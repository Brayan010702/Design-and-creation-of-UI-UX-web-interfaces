<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meeting Agenda Builder</title>
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZmF2aWNvbkdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzM0ZDM5OTtzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMTBiOTgxO3N0b3Atb3BhY2l0eToxIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNmYXZpY29uR3JhZGllbnQpIi8+CiAgICA8cmVjdCB4PSI4IiB5PSI2IiB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHJ4PSIyIiByeT0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuOTUiLz4KICAgIDxyZWN0IHg9IjExIiB5PSIxMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEuNSIgcng9IjAuNzUiIGZpbGw9IiMwNDc4NTciIG9wYWNpdHk9IjAuOCIvPgogICAgPHJlY3QgeD0iMTEiIHk9IjEzIiB3aWR0aD0iOCIgaGVpZ2h0PSIxLjUiIHJ4PSIwLjc1IiBmaWxsPSIjMDQ3ODU3IiBvcGFjaXR5PSIwLjgiLz4KICAgIDxyZWN0IHg9IjExIiB5PSIxNiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEuNSIgcng9IjAuNzUiIGZpbGw9IiMwNDc4NTciIG9wYWNpdHk9IjAuOCIvPgogICAgPHJlY3QgeD0iMTEiIHk9IjE5IiB3aWR0aD0iNiIgaGVpZ2h0PSIxLjUiIHJ4PSIwLjc1IiBmaWxsPSIjMDQ3ODU3IiBvcGFjaXR5PSIwLjgiLz4KICAgIDxjaXJjbGUgY3g9IjIwIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiMzNGQzOTkiIG9wYWNpdHk9IjAuOSIvPgogICAgPGNpcmNsZSBjeD0iMjAiIGN5PSIxMCIgcj0iMi4yIiBmaWxsPSJ3aGl0ZSIvPgogICAgPGxpbmUgeDE9IjIwIiB5MT0iMTAiIHgyPSIyMCIgeTI9IjguNSIgc3Ryb2tlPSIjMDQ3ODU3IiBzdHJva2Utd2lkdGg9IjAuOCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICA8bGluZSB4MT0iMjAiIHkxPSIxMCIgeDI9IjIxLjIiIHkyPSIxMCIgc3Ryb2tlPSIjMDQ3ODU3IiBzdHJva2Utd2lkdGg9IjAuNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPg==">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a'
                        },
                        accent: {
                            400: '#34d399',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857'
                        },
                        success: {
                            500: '#10b981',
                            600: '#059669'
                        },
                        warning: {
                            500: '#f59e0b',
                            600: '#d97706'
                        },
                        danger: {
                            500: '#ef4444',
                            600: '#dc2626'
                        }
                    },
                    fontFamily: {
                        'business': ['Helvetica Neue', 'Helvetica']
                    }
                }
            }
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 25%, #f0fdf4 50%, #ecfdf5 75%, #d1fae5 100%);
            background-size: 400% 400%;
            animation: loadingGradientShift 8s ease infinite;
            z-index: 999999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .loading-overlay.fade-out {
            opacity: 0;
            visibility: hidden;
        }

        @keyframes loadingGradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .loading-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 24px;
            padding: 3rem 2.5rem;
            box-shadow: 
                0 25px 50px -12px rgba(15, 23, 42, 0.25),
                0 10px 20px -5px rgba(16, 185, 129, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            max-width: 420px;
            width: 90%;
            z-index: 10;
        }

        .loading-title {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, #0f172a, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: #0f172a;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .loading-subtitle {
            font-family: 'Helvetica Neue', Helvetica;
            color: #64748b;
            font-size: 1.1rem;
            font-weight: 400;
            margin-bottom: 2rem;
        }

        .loading-progress {
            width: 100%;
            height: 6px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            border-radius: 3px;
            width: 0%;
            animation: loadingProgressFill 2.5s ease-out forwards;
        }

        @keyframes loadingProgressFill {
            0% { width: 0%; }
            30% { width: 35%; }
            60% { width: 70%; }
            100% { width: 100%; }
        }

        
        .loading-3d-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
        }

        .loading-3d-element {
            position: absolute;
            opacity: 0;
            animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            perspective: 1000px;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .cube-3d {
            width: 60px;
            height: 60px;
            transform-style: preserve-3d;
            animation: cube3DFloat 8s ease-in-out infinite;
        }

        .cube-face {
            position: absolute;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.4), rgba(52, 211, 153, 0.2));
            border: 1px solid rgba(16, 185, 129, 0.3);
            backdrop-filter: blur(10px);
        }

        .cube-face.front { transform: rotateY(0deg) translateZ(30px); }
        .cube-face.back { transform: rotateY(180deg) translateZ(30px); }
        .cube-face.right { transform: rotateY(90deg) translateZ(30px); }
        .cube-face.left { transform: rotateY(-90deg) translateZ(30px); }
        .cube-face.top { transform: rotateX(90deg) translateZ(30px); }
        .cube-face.bottom { transform: rotateX(-90deg) translateZ(30px); }

        .sphere-3d {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(52, 211, 153, 0.6), rgba(16, 185, 129, 0.3), rgba(4, 120, 87, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.4);
            backdrop-filter: blur(15px);
            animation: sphere3DFloat 12s ease-in-out infinite;
            box-shadow: 
                0 0 40px rgba(52, 211, 153, 0.3),
                inset 0 0 40px rgba(255, 255, 255, 0.1);
        }

        .pyramid-3d {
            width: 0;
            height: 0;
            border-left: 40px solid transparent;
            border-right: 40px solid transparent;
            border-bottom: 70px solid rgba(16, 185, 129, 0.4);
            animation: pyramid3DFloat 10s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(16, 185, 129, 0.2));
        }

        .pyramid-3d::before {
            content: '';
            position: absolute;
            top: 0;
            left: -40px;
            width: 0;
            height: 0;
            border-left: 40px solid rgba(52, 211, 153, 0.3);
            border-right: 40px solid transparent;
            border-bottom: 70px solid transparent;
            transform: skewY(-10deg);
        }

        .torus-3d {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 20px solid rgba(16, 185, 129, 0.4);
            background: transparent;
            animation: torus3DFloat 15s ease-in-out infinite;
            box-shadow: 
                0 0 30px rgba(52, 211, 153, 0.4),
                inset 0 0 30px rgba(16, 185, 129, 0.2);
        }

        .helix-3d {
            width: 4px;
            height: 120px;
            background: linear-gradient(to bottom, 
                rgba(52, 211, 153, 0.8) 0%,
                rgba(16, 185, 129, 0.6) 50%,
                rgba(4, 120, 87, 0.4) 100%);
            border-radius: 2px;
            animation: helix3DFloat 6s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(52, 211, 153, 0.5);
        }

        .crystal-3d {
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 60px solid rgba(16, 185, 129, 0.5);
            position: relative;
            animation: crystal3DFloat 9s ease-in-out infinite;
        }

        .crystal-3d::before {
            content: '';
            position: absolute;
            top: 60px;
            left: -25px;
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 30px solid rgba(52, 211, 153, 0.4);
        }

        @keyframes cube3DFloat {
            0%, 100% {
                transform: translateY(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
            }
            25% {
                transform: translateY(-30px) rotateX(90deg) rotateY(90deg) rotateZ(45deg);
            }
            50% {
                transform: translateY(-20px) rotateX(180deg) rotateY(180deg) rotateZ(90deg);
            }
            75% {
                transform: translateY(-35px) rotateX(270deg) rotateY(270deg) rotateZ(135deg);
            }
        }

        @keyframes sphere3DFloat {
            0%, 100% {
                transform: translateY(0px) translateX(0px) scale(1);
            }
            25% {
                transform: translateY(-40px) translateX(20px) scale(1.1);
            }
            50% {
                transform: translateY(-25px) translateX(-15px) scale(0.9);
            }
            75% {
                transform: translateY(-45px) translateX(10px) scale(1.05);
            }
        }

        @keyframes pyramid3DFloat {
            0%, 100% {
                transform: translateY(0px) rotateY(0deg) rotateZ(0deg);
            }
            33% {
                transform: translateY(-25px) rotateY(120deg) rotateZ(15deg);
            }
            66% {
                transform: translateY(-35px) rotateY(240deg) rotateZ(-15deg);
            }
        }

        @keyframes torus3DFloat {
            0%, 100% {
                transform: translateY(0px) rotateX(0deg) rotateZ(0deg);
            }
            50% {
                transform: translateY(-30px) rotateX(180deg) rotateZ(180deg);
            }
        }

        @keyframes helix3DFloat {
            0%, 100% {
                transform: translateY(0px) rotateZ(0deg) rotateX(0deg);
            }
            25% {
                transform: translateY(-20px) rotateZ(90deg) rotateX(45deg);
            }
            50% {
                transform: translateY(-10px) rotateZ(180deg) rotateX(90deg);
            }
            75% {
                transform: translateY(-25px) rotateZ(270deg) rotateX(135deg);
            }
        }

        @keyframes crystal3DFloat {
            0%, 100% {
                transform: translateY(0px) rotateY(0deg) rotateX(0deg);
            }
            40% {
                transform: translateY(-35px) rotateY(144deg) rotateX(20deg);
            }
            80% {
                transform: translateY(-20px) rotateY(288deg) rotateX(-20deg);
            }
        }

        @keyframes lightPulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(52, 211, 153, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(52, 211, 153, 0.6), 0 0 60px rgba(16, 185, 129, 0.4);
            }
        }

        .loading-3d-element:nth-child(odd) {
            animation-delay: -2s;
        }

        .loading-3d-element:nth-child(even) {
            animation-delay: -4s;
        }

        .loading-3d-element:nth-child(3n) {
            animation-delay: -1s;
        }

        .loading-3d-element:nth-child(4n) {
            animation-delay: -3s;
        }


        @media (max-width: 768px) {
            .cube-3d, .cube-face {
                width: 40px;
                height: 40px;
            }
            
            .sphere-3d {
                width: 60px;
                height: 60px;
            }
            
            .torus-3d {
                width: 70px;
                height: 70px;
                border-width: 15px;
            }
            
            .helix-3d {
                height: 80px;
            }
            
            .loading-3d-element {
                opacity: 0.4;
            }
        }

        html, body {
            scrollbar-width: none; 
            -ms-overflow-style: none; 
            overflow-x: hidden;
        }

        html::-webkit-scrollbar,
        body::-webkit-scrollbar {
            display: none; 
        }

        .validation-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            padding: 1rem 1.5rem;
            box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15), 0 8px 16px rgba(15, 23, 42, 0.1);
            z-index: 100001;
            transform: translateX(400px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            font-family: 'Helvetica Neue', Helvetica;
            max-width: 320px;
            min-width: 280px;
        }

        .validation-notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .validation-notification.error {
            border-left: 4px solid #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.08), rgba(255, 255, 255, 0.98));
        }

        .validation-notification.warning {
            border-left: 4px solid #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(255, 255, 255, 0.98));
        }

        .validation-notification.success {
            border-left: 4px solid #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(255, 255, 255, 0.98));
        }

        .validation-notification.info {
            border-left: 4px solid #10b981;
        }

        .add-item-btn {
            position: relative;
            overflow: hidden;
        }

        .add-item-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .add-item-btn:hover::before {
            transform: translateX(100%);
        }

        .add-item-btn:active {
            transform: scale(0.95);
        }

        .validation-notification-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .validation-notification-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: 700;
            color: white;
        }

        .validation-notification.error .validation-notification-icon {
            background: #ef4444;
        }

        .validation-notification.warning .validation-notification-icon {
            background: #f59e0b;
        }

        .validation-notification.success .validation-notification-icon {
            background: #10b981;
        }

        .validation-notification.info .validation-notification-icon {
            background: #10b981;
        }

        .validation-notification-title {
            font-size: 1rem;
            font-weight: 700;
            color: #0f172a;
            margin: 0;
        }

        .validation-notification-message {
            font-size: 0.875rem;
            color: #64748b;
            line-height: 1.4;
            margin: 0;
        }

        .validation-notification-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            font-size: 1.25rem;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .validation-notification-close:hover {
            background: rgba(0, 0, 0, 0.1);
            color: #0f172a;
        }

        .input-error {
            border-color: #ef4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.12) !important;
            background-color: rgba(239, 68, 68, 0.02) !important;
        }

        .input-warning {
            border-color: #f59e0b !important;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.12) !important;
            background-color: rgba(245, 158, 11, 0.02) !important;
        }

        .input-success {
            border-color: #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.12) !important;
            background-color: rgba(16, 185, 129, 0.02) !important;
        }

        .character-counter {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.75rem;
            color: #94a3b8;
            text-align: right;
            margin-top: 0.25rem;
            transition: color 0.3s ease;
        }

        .character-counter.warning {
            color: #f59e0b;
            font-weight: 600;
        }

        .character-counter.error {
            color: #ef4444;
            font-weight: 700;
        }

        .custom-tooltip {
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.875rem;
            font-weight: 600;
            color: #0f172a;
            white-space: nowrap;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.15), 0 4px 12px rgba(15, 23, 42, 0.1);
            pointer-events: none;
        }

        .custom-tooltip::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: rgba(255, 255, 255, 0.98);
            filter: drop-shadow(0 2px 4px rgba(16, 185, 129, 0.1));
        }

        .custom-tooltip.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-4px);
        }

        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip-container:hover .custom-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-4px);
        }

        @media (max-width: 768px) {
            .custom-tooltip {
                bottom: 130%;
                font-size: 0.8rem;
                padding: 0.6rem 0.875rem;
                border-radius: 10px;
                left: calc(50% - 0.5cm);
            }
            
            .custom-tooltip::before {
                border-width: 5px;
                left: calc(50% + 0.5cm);
            }
        }

        @media (max-width: 768px) {
            .validation-notification {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
                min-width: auto;
                transform: translateY(-100px);
            }

            .validation-notification.show {
                transform: translateY(0);
            }
        }

        body {
            font-family: 'Helvetica Neue', Helvetica;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 25%, #f0fdf4 50%, #ecfdf5 75%, #d1fae5 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #0f172a;
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden; 
        }

        .background-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .bg-element {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(52, 211, 153, 0.05));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(16, 185, 129, 0.1);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            animation: float 20s ease-in-out infinite;
        }

        .bg-element:hover {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(52, 211, 153, 0.1));
            border-color: rgba(16, 185, 129, 0.2);
            box-shadow: 0 20px 60px rgba(16, 185, 129, 0.15), 0 8px 32px rgba(5, 150, 105, 0.1);
            transform: scale(1.05);
        }

        .bg-element-1 {
            width: 200px;
            height: 200px;
            top: 10%;
            left: -5%;
            animation-delay: 0s;
            animation-duration: 25s;
        }

        .bg-element-2 {
            width: 150px;
            height: 150px;
            top: 60%;
            right: -3%;
            animation-delay: -8s;
            animation-duration: 30s;
        }

        .bg-element-3 {
            width: 120px;
            height: 120px;
            top: 30%;
            right: 15%;
            animation-delay: -15s;
            animation-duration: 22s;
        }

        .bg-element-4 {
            width: 180px;
            height: 180px;
            bottom: 20%;
            left: 10%;
            animation-delay: -5s;
            animation-duration: 28s;
        }

        .bg-element-5 {
            width: 100px;
            height: 100px;
            top: 80%;
            left: 60%;
            animation-delay: -12s;
            animation-duration: 20s;
        }

        .bg-geometric {
            position: absolute;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.06), rgba(52, 211, 153, 0.03));
            border: 1px solid rgba(16, 185, 129, 0.08);
            backdrop-filter: blur(15px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bg-geometric:hover {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.12), rgba(52, 211, 153, 0.08));
            border-color: rgba(16, 185, 129, 0.15);
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.12), 0 6px 20px rgba(5, 150, 105, 0.08);
            transform: rotate(5deg) scale(1.02);
        }

        .bg-rect-1 {
            width: 80px;
            height: 80px;
            top: 15%;
            right: 8%;
            border-radius: 16px;
            transform: rotate(15deg);
            animation: geometricFloat 18s ease-in-out infinite;
            animation-delay: -3s;
        }

        .bg-rect-2 {
            width: 60px;
            height: 60px;
            bottom: 30%;
            right: 20%;
            border-radius: 12px;
            transform: rotate(-20deg);
            animation: geometricFloat 22s ease-in-out infinite;
            animation-delay: -10s;
        }

        .bg-rect-3 {
            width: 70px;
            height: 70px;
            top: 50%;
            left: 5%;
            border-radius: 14px;
            transform: rotate(25deg);
            animation: geometricFloat 20s ease-in-out infinite;
            animation-delay: -7s;
        }

        .bg-dots {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(135deg, #10b981, #047857);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            animation: dotFloat 15s ease-in-out infinite;
        }

        .bg-dots:hover {
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.6), 0 0 60px rgba(5, 150, 105, 0.3);
            transform: scale(1.5);
        }

        .bg-ring {
            position: absolute;
            border: 2px solid rgba(16, 185, 129, 0.1);
            border-radius: 50%;
            background: transparent;
            backdrop-filter: blur(10px);
            animation: ringFloat 25s ease-in-out infinite;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bg-ring:hover {
            border-color: rgba(16, 185, 129, 0.25);
            box-shadow: 0 0 40px rgba(16, 185, 129, 0.1), inset 0 0 20px rgba(52, 211, 153, 0.05);
            transform: scale(1.1);
        }

        .ring-1 {
            width: 60px;
            height: 60px;
            top: 20%;
            left: 80%;
            animation-delay: -5s;
        }

        .ring-2 {
            width: 40px;
            height: 40px;
            bottom: 50%;
            left: 15%;
            animation-delay: -12s;
        }

        @keyframes ringFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.6;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 1;
            }
        }

        .dot-1 {
            top: 25%;
            left: 20%;
            animation-delay: 0s;
        }

        .dot-2 {
            top: 70%;
            right: 30%;
            animation-delay: -5s;
        }

        .dot-3 {
            bottom: 40%;
            left: 70%;
            animation-delay: -10s;
        }

        .dot-4 {
            top: 40%;
            right: 10%;
            animation-delay: -3s;
        }

        .dot-5 {
            bottom: 60%;
            left: 30%;
            animation-delay: -8s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) translateX(0px) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) translateX(10px) rotate(2deg);
            }
            50% {
                transform: translateY(-10px) translateX(-15px) rotate(-1deg);
            }
            75% {
                transform: translateY(-30px) translateX(5px) rotate(1deg);
            }
        }

        @keyframes geometricFloat {
            0%, 100% {
                transform: translateY(0px) rotate(15deg);
            }
            33% {
                transform: translateY(-15px) rotate(20deg);
            }
            66% {
                transform: translateY(-8px) rotate(10deg);
            }
        }

        @keyframes dotFloat {
            0%, 100% {
                transform: translateY(0px) scale(1);
                opacity: 0.6;
            }
            50% {
                transform: translateY(-25px) scale(1.2);
                opacity: 1;
            }
        }

        .main-content {
            position: relative;
            z-index: 10;
        }

        nav {
            position: relative;
            z-index: 50;
        }

        footer {
            position: relative;
            z-index: 10;
        }

        .interactive-logo {
            cursor: default;
        }

        @media (max-width: 768px) {
            .bg-element {
                opacity: 0.7;
            }
            
            .bg-element-1 {
                width: 120px;
                height: 120px;
                left: -10%;
            }
            
            .bg-element-2 {
                width: 100px;
                height: 100px;
                right: -8%;
            }
            
            .bg-element-3 {
                width: 80px;
                height: 80px;
            }
            
            .bg-element-4 {
                width: 110px;
                height: 110px;
            }
            
            .bg-element-5 {
                width: 70px;
                height: 70px;
            }
            
            .bg-geometric {
                opacity: 0.8;
            }
            
            .bg-rect-1 {
                width: 50px;
                height: 50px;
            }
            
            .bg-rect-2 {
                width: 40px;
                height: 40px;
            }
            
            .bg-rect-3 {
                width: 45px;
                height: 45px;
            }

            .logo-container:hover .interactive-logo {
                transform: scale(1.05);
            }
            
            .logo-container:hover .highlight-ring {
                animation: none;
            }
        }

        .footer-interactive-logo {
            cursor: default;
        }



        .save-edit-btn {
            position: relative;
            overflow: hidden;
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .save-edit-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        .save-edit-btn:active {
            transform: translateY(0) scale(0.95);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.6);
        }

        .save-edit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.4s;
        }

        .save-edit-btn:hover::before {
            left: 100%;
        }

        .delete-btn {
            position: relative;
            overflow: hidden;
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .delete-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #fca5a5;
        }

        .delete-btn:active {
            transform: translateY(0) scale(0.95);
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.5);
        }

        .nav-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        .nav-btn:hover {
            transform: translateY(-1px) scale(1.1);
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .nav-btn:active {
            transform: translateY(0) scale(0.9);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.5);
        }

        .time-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        .time-btn:hover {
            transform: translateY(-1px) scale(1.05);
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .time-btn:active {
            transform: translateY(0) scale(0.95);
            box-shadow: 0 2px 6px rgba(16, 185, 129, 0.5);
        }

        .period-btn {
            width: 60px;
            height: 40px;
            border: 1px solid rgba(16, 185, 129, 0.2); 
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(52, 211, 153, 0.08)); 
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #047857;
        }

        .period-btn:hover {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(52, 211, 153, 0.15)); 
            border-color: rgba(16, 185, 129, 0.3);
            color: #065f46; 
        }

        .period-btn:active {
            transform: translateY(0) scale(0.95);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.5);
        }

        .close-picker {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0) rotate(0deg);
        }

        .close-picker:hover {
            transform: translateY(-1px) rotate(90deg) scale(1.1);
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.3);
        }

        .close-picker:active {
            transform: translateY(0) rotate(90deg) scale(0.9);
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.5);
        }

        .btn-cancel:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(100, 116, 139, 0.3);
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        .btn-cancel:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 2px 8px rgba(100, 116, 139, 0.4);
        }

        .btn-confirm:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
            background: linear-gradient(135deg, #34d399, #10b981);
        }

        .btn-confirm:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.6);
        }

        .empty-state-container {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .empty-state-content {
            position: relative;
            transition: all 0.3s ease;
        }

        .empty-state-content:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.15);
        }

        .empty-state-add-btn {
            position: relative;
            overflow: hidden;
        }

        .empty-state-add-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .empty-state-add-btn:hover::before {
            left: 100%;
        }

        @media (max-width: 640px) {
            .empty-state-content {
                padding: 2rem 1.5rem;
            }
            
            .empty-state-content h3 {
                font-size: 1.5rem;
            }
            
            .empty-state-content p {
                font-size: 1rem;
            }
        }

        .inline-add-btn.hidden {
            display: none !important; 
        }

        .inline-add-btn {
            position: relative;
            overflow: hidden;
        }

        .inline-add-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
            border-radius: 50%;
        }

        .inline-add-btn:hover::before {
            transform: translateX(100%);
        }

        .inline-add-btn:active {
            transform: scale(0.95);
        }

        #nav-export-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        #nav-export-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        #nav-export-btn:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.5);
        }

        #nav-export-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        #nav-export-btn:hover::before {
            left: 100%;
        }

        #meeting-edit-save-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        #meeting-edit-save-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        #meeting-edit-save-btn:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.6);
        }

        #meeting-edit-save-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.4s;
        }

        #meeting-edit-save-btn:hover::before {
            left: 100%;
        }

        @keyframes gradient-x {
            0%, 100% {
                background-size: 200% 200%;
                background-position: left center;
            }
            50% {
                background-size: 200% 200%;
                background-position: right center;
            }
        }

        .animate-gradient-x {
            background-size: 200% 200%;
            animation: gradient-x 3s ease infinite;
        }

        h1, h2, h3 {
            transition: all 0.3s ease;
        }

        h1:hover {
            transform: scale(1.02);
            filter: drop-shadow(0 4px 8px rgba(16, 185, 129, 0.2));
        }

        h2:hover {
            transform: scale(1.01);
            filter: drop-shadow(0 4px 8px rgba(16, 185, 129, 0.15));
        }

        h3:hover {
            transform: scale(1.01);
            filter: drop-shadow(0 2px 4px rgba(16, 185, 129, 0.1));
        }

        .loading-title {
            background: linear-gradient(45deg, #10b981, #34d399, #6ee7b7, #10b981);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-x 2s ease-in-out infinite;
        }

        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        .agenda-item {
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 0 !important; 
            width: 100%;
            box-sizing: border-box;
        }
        
        .item-content {
            transition: max-height 0.3s ease-out, padding 0.1s linear 0.2s, border 0.1s linear 0.2s;
            overflow: hidden;
            padding: 1 !important;
            border-top: 1px solid transparent;
            margin-top: 20px;
        }

        .item-content.expanded {
            max-height: 500px;
            padding: 1rem;
            overflow: hidden;
            border-top: 1px solid #e2e8f0;
        }

        .item-content:not(.expanded) {
            max-height: 0;
            padding: 1;
            overflow: hidden;
            border-top: none;
        }

        .agenda-item.dragging {
            opacity: 0.8;
            transform: scale(1.03);
            box-shadow: 0 25px 50px -12px rgba(16, 185, 129, 0.3);
            border: 2px solid #10b981;
            background-color: rgba(16, 185, 129, 0.05);
            z-index: 1000;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .agenda-item.drag-over {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .agenda-item.drag-over::before {
            content: '';
            position: absolute;
            width: calc(100% - 2rem);
            height: 4px;
            background: #10b981;
            left: 1rem;
            border-radius: 4px;
            z-index: 1001;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            animation: pulseBorder 1s infinite;
        }
        
        .agenda-item.drag-over-top::before {
            top: -2px;
        }
        
        .agenda-item.drag-over-bottom::before {
            bottom: -2px;
        }

        .agenda-item.drag-over-middle {
            background-color: rgba(16, 185, 129, 0.1);
            transform: scale(1.01);
        }
        
        .agenda-item.drag-over-middle::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(16, 185, 129, 0.05);
            border: 2px dashed #10b981;
            border-radius: 1rem;
            pointer-events: none;
        }

        @keyframes pulseBorder {
            0% { opacity: 0.6; transform: scaleX(0.95); }
            50% { opacity: 1; transform: scaleX(1); }
            100% { opacity: 0.6; transform: scaleX(0.95); }
        }
        
        @media (min-width: 769px) {
            .agenda-item[draggable="true"] .item-header {
                cursor: move;
            }
            
            .agenda-item[draggable="true"] .item-header:hover {
                background-color: rgba(241, 245, 249, 0.6);
            }
            
            .agenda-item.dragging {
                border: 2px solid #10b981;
                background: rgba(16, 185, 129, 0.05);
            }
        }

        .drag-handle {
            touch-action: none;
            padding: 0.25rem;
            border-radius: 4px;
            transition: all 0.2s;
            color: #cbd5e1;
            font-size: 1.125rem;
            margin-right: 0.5rem;
            pointer-events: none; 
        }

        .item-header {
            cursor: move;
            touch-action: none;
        }

        .item-header:hover {
            background-color: rgba(241, 245, 249, 0.3);
        }

        .item-header:active {
            background-color: rgba(226, 232, 240, 0.3);
        }

        .header-actions, .header-actions * {
            cursor: pointer !important;
        }

        .agenda-item.long-press-active {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.15);
            transition: all 0.3s ease;
        }

        .agenda-item.long-press-active .drag-handle {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            animation: pulse 0.5s ease-in-out infinite alternate;
            border-radius: 6px;
        }

        .agenda-item.drag-ready {
            border: 2px dashed #10b981;
            background-color: rgba(16, 185, 129, 0.06);
        }

        .agenda-item.drag-ready .drag-handle {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border-radius: 6px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        .long-press-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border: 3px solid #10b981;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            z-index: 10;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.25);
            backdrop-filter: blur(8px);
        }

        .long-press-indicator.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: longPressProgress 500ms linear forwards;
        }

        .long-press-indicator.active::before {
            content: '☰';
            font-size: 1.5rem;
            color: #10b981;
            font-weight: bold;
        }

        @keyframes longPressProgress {
            0% {
                background: conic-gradient(#10b981 0deg, rgba(255, 255, 255, 0.95) 0deg);
                transform: translate(-50%, -50%) scale(0.8);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1);
            }
            100% {
                background: conic-gradient(#10b981 360deg, rgba(255, 255, 255, 0.95) 360deg);
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .view-mode-content {
            cursor: default;
        }

        .view-field {
            cursor: not-allowed;
            user-select: none;
            transition: all 0.2s ease;
        }

        .view-field:hover {
            background-color: rgba(248, 250, 252, 0.8);
            border-color: #cbd5e1;
        }

        .meeting-field-readonly {
            cursor: not-allowed !important;
            user-select: none;
            transition: all 0.2s ease;
            pointer-events: none !important;
        }

        .meeting-field-readonly:hover {
            background-color: rgba(248, 250, 252, 0.8) !important;
            border-color: #cbd5e1 !important;
        }

        .date-input-readonly {
            cursor: not-allowed !important;
            pointer-events: none !important;
            user-select: none;
            transition: all 0.2s ease;
        }

        .date-input-readonly:hover {
            background-color: rgba(248, 250, 252, 0.8) !important;
            border-color: #cbd5e1 !important;
        }

        .time-control-view {
            cursor: not-allowed;
            padding: 0.75rem;
            background: rgba(248, 250, 252, 0.5);
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }

        .time-control-view:hover {
            background-color: rgba(248, 250, 252, 0.8);
            border-color: #cbd5e1;
        }

        .time-slider-view {
            opacity: 0.7;
            cursor: not-allowed !important;
            pointer-events: none;
            width: 100%;
            margin: 0;
            -webkit-appearance: none;
            appearance: none;
            height: 10px;
            background: linear-gradient(to right, 
                #34d399 0%, 
                #34d399 var(--slider-progress, 0%), 
                #f1f5f9 var(--slider-progress, 0%), 
                #f1f5f9 100%
            );
            border-radius: 8px;
            outline: none;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.08);
        }

        .time-slider-view::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            background: #34d399;
            border-radius: 50%;
            cursor: not-allowed !important;
            box-shadow: 0 3px 8px rgba(52, 211, 153, 0.3), 0 1px 3px rgba(0,0,0,0.1);
            border: 3px solid white;
            opacity: 0.8;
        }

        .time-slider-view::-moz-range-thumb {
            width: 22px;
            height: 22px;
            background: #34d399;
            border-radius: 50%;
            cursor: not-allowed !important;
            box-shadow: 0 3px 8px rgba(52, 211, 153, 0.3), 0 1px 3px rgba(0,0,0,0.1);
            border: 3px solid white;
            opacity: 0.8;
        }

        .time-slider {
            width: 100%;
            margin: 0;
            -webkit-appearance: none;
            appearance: none;
            height: 10px;
            background: linear-gradient(to right, 
                #34d399 0%, 
                #34d399 var(--slider-progress, 0%), 
                #f1f5f9 var(--slider-progress, 0%), 
                #f1f5f9 100%
            );
            border-radius: 8px;
            outline: none;
            cursor: pointer;
            touch-action: manipulation;
            position: relative;
            z-index: 2;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            --tw-ring-color: #34d399;
        }

        .time-slider:hover {
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.08), 0 0 0 4px rgba(52, 211, 153, 0.1);
        }

        .time-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 26px;
            height: 26px;
            background: #34d399;
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 4px 12px rgba(52, 211, 153, 0.4), 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 3;
            border: 4px solid white;
        }

        .time-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(52, 211, 153, 0.6), 0 4px 8px rgba(0,0,0,0.15);
            background: #6ee7b7;
            cursor: grab;
        }

        .time-slider::-webkit-slider-thumb:active {
            cursor: grabbing;
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(52, 211, 153, 0.8), 0 1px 3px rgba(0,0,0,0.2);
        }

        .time-slider::-moz-range-thumb {
            width: 26px;
            height: 26px;
            background: #34d399;
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 4px 12px rgba(52, 211, 153, 0.4), 0 2px 4px rgba(0,0,0,0.1);
            border: 4px solid white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .time-slider::-moz-range-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(52, 211, 153, 0.6), 0 4px 8px rgba(0,0,0,0.15);
            background: #6ee7b7;
        }



        .datetime-picker-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            backdrop-filter: blur(10px);
            z-index: 99999;
            display: none;
            align-items: center;
            justify-content: center;
            animation: overlayFadeIn 0.3s ease;
            padding: 30px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .datetime-picker-overlay.active {
            display: flex !important;
        }

        @keyframes overlayFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .datetime-picker-modal {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border: 1px solid #e2e8f0;
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(15, 23, 42, 0.25);
            width: 100%;
            max-width: 520px;
            min-width: 400px;
            max-height: 85vh;
            overflow: auto !important;
            animation: modalSlideIn 0.4s ease-out;
            position: relative;
            z-index: 100000;
            margin: auto;
            display: flex;
            flex-direction: column;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        @keyframes modalSlideIn {
            from { 
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to { 
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .datetime-picker-modal::-webkit-scrollbar {
            display: none;
        }

        .datetime-picker-content {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .grid-container {
            display: grid;
            grid-template-areas:
                "nav"
                "main"
                "footer";
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
            width: 100%;
            max-width: 100vw;
            overflow-x: hidden;
        }

        .grid-nav {
        grid-area: nav;
        position: sticky;
        top: 0;
        z-index: 100;
        }

        .grid-main {
            display: grid;
            grid-template-areas: 
                "details"
                "items";
            gap: 1.5rem;
            padding: 1rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        @media (min-width: 768px) {
            .grid-main {
                grid-template-areas: 
                    "details details"
                    "items items";
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (min-width: 1024px) {
            .grid-main {
                grid-template-areas: 
                    "details items";
                grid-template-columns: 1fr 2fr;
                gap: 2rem;
                padding: 2rem;
            }
        }

        .grid-details {
            grid-area: details;
            width: 100%;
        }

        .grid-items {
            grid-area: items;
            width: 100%;
        }

        .grid-footer {
            grid-area: footer;
            width: 100%;
            padding: 1rem;
            background: white;
            border-top: 1px solid #e2e8f0;
        }

        .grid-footer .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .main-content {
        min-height: calc(100vh - 8rem);
        display: contents;
        }

        .datetime-picker-content::-webkit-scrollbar {
            display: none;
        }

        .datetime-picker-header {
            padding: 1rem 1rem;
            height: 80%;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.06), rgba(52, 211, 153, 0.04));
        }

        .datetime-picker-header h3 {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 1rem; 
            font-weight: 700;
            color: #0f172a;
            margin: 0;
        }

        .close-picker {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .close-picker:hover {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            transform: scale(1.1);
        }

        .datetime-picker-content {
            padding: 1.75rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            overflow-y: auto;
            flex: 1;
            max-height: calc(85vh - 140px);
        }

        .date-picker-section {
            width: 100%;
            min-height: 350px;
            max-height: 350px;
            overflow: hidden;
        }

        .month-year-selector {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .svg-calendar-container {
            width: 100%;
            max-width: 480px;
            margin: 0;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.08), 0 4px 16px rgba(0, 0, 0, 0.04);
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid rgba(226, 232, 240, 0.6);
        }

        #calendar-svg {
            display: block;
            width: 100%;
            height: 300px;
            font-family: 'Helvetica Neue', Helvetica;
        }

        .svg-day-header {
            font-size: 13px;
            font-weight: 600;
            fill: #64748b;
            text-anchor: middle;
            dominant-baseline: middle;
            letter-spacing: 0.5px;
        }

        .svg-calendar-day {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .svg-calendar-day:hover:not(.disabled):not(.selected) .day-bg {
            fill: url(#hoverGradient);
            filter: url(#dayHover);
            transform: scale(1.05);
            transform-origin: center;
        }

        .svg-calendar-day.selected .day-bg {
            fill: url(#selectedGradient);
            filter: url(#selectedShadow);
            transform: scale(1.02);
            transform-origin: center;
        }

        .svg-calendar-day.selected .day-text {
            fill: white;
            font-weight: 700;
        }

        .svg-calendar-day.selected:hover .day-bg {
            fill: url(#selectedGradient) !important;
            filter: url(#selectedShadow) !important;
            transform: scale(1.02) !important;
        }

        .grid-footer {
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        padding: 1rem;
        }

        @media (min-width: 768px) {
        .grid-footer {
            grid-template-columns: repeat(12, minmax(0, 1fr));
        }
        }

        .svg-calendar-day.selected:hover .day-text {
            fill: white !important;
            font-weight: 700 !important;
        }

        .svg-calendar-day.selected {
            pointer-events: auto;
        }

        .svg-calendar-day.selected .day-bg {
            fill: url(#selectedGradient) !important;
        }

        .svg-calendar-day.selected .day-text {
            fill: white !important;
            font-weight: 700 !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .svg-calendar-day.today .day-bg {
            fill: url(#todayGradient);
            filter: url(#todayShadow);
            stroke: #3b82f6;
            stroke-width: 2;
        }

        .svg-calendar-day.today .day-text {
            font-weight: 700;
            fill: #1d4ed8;
        }

        .svg-calendar-day.other-month .day-text {
            fill: #cbd5e1;
            opacity: 0.6;
        }

        .svg-calendar-day.disabled .day-bg {
            fill: rgba(248, 250, 252, 0.5);
            opacity: 0.4;
        }

        .svg-calendar-day.disabled .day-text {
            fill: #cbd5e1;
            opacity: 0.4;
        }

        .svg-calendar-day.disabled {
            cursor: not-allowed;
        }

        .grid-area-items {
        grid-column: 1 / -1;
        grid-row: 2;
        }

        @media (min-width: 768px) {
        .grid-area-items {
            grid-column: 1 / span 8;
            grid-row: 2;
        }
        }

        .day-bg {
            fill: rgba(255, 255, 255, 0.9);
            rx: 12;
            ry: 12;
            stroke: rgba(226, 232, 240, 0.3);
            stroke-width: 1;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .grid-area-details {
        grid-column: 1 / -1;
        grid-row: 1;
        }

        @media (min-width: 768px) {
        .grid-area-details {
            grid-column: 1 / span 8;
            grid-row: 1;
        }
        }

        .day-text {
            font-size: 15px;
            font-weight: 500;
            fill: #1e293b;
            text-anchor: middle;
            dominant-baseline: middle;
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes dayPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.08); }
            100% { transform: scale(1.02); }
        }

        .svg-calendar-day.selected .day-bg {
            animation: dayPulse 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
        }

        .svg-calendar-day.disabled .day-bg {
            fill: rgba(203, 213, 225, 0.3);
        }

        .svg-calendar-day.disabled .day-text {
            fill: #cbd5e1;
            opacity: 0.5;
        }

        .svg-calendar-day.disabled {
            cursor: not-allowed;
        }

        .day-bg {
            fill: rgba(255, 255, 255, 0.7);
            rx: 8;
            ry: 8;
        }

        .day-text {
            font-size: 14px;
            font-weight: 500;
            fill: #0f172a;
            text-anchor: middle;
            dominant-baseline: middle;
            pointer-events: none;
        }



        .validation-notification .flex {
            display: flex;
        }

        .validation-notification .justify-end {
            justify-content: flex-end;
        }

        .validation-notification .gap-2 {
            gap: 0.5rem;
        }

        .validation-notification .mt-3 {
            margin-top: 0.75rem;
        }

        .validation-notification .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        .validation-notification .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }

        .validation-notification .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .validation-notification .rounded {
            border-radius: 0.25rem;
        }

        .validation-notification .border {
            border-width: 1px;
        }

        .validation-notification .border-slate-300 {
            border-color: #cbd5e1;
        }

        .validation-notification .text-slate-700 {
            color: #334155;
        }

        .validation-notification .hover\:bg-slate-100:hover {
            background-color: #f1f5f9;
        }

        .validation-notification .transition-colors {
            transition-property: background-color, border-color, color, fill, stroke;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .validation-notification .hover\:opacity-90:hover {
            opacity: 0.9;
        }

        .validation-notification .transition-opacity {
            transition-property: opacity;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .time-inputs {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(240, 253, 244, 0.8), rgba(220, 252, 231, 0.6));
            backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(16, 185, 129, 0.08);
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .time-picker-section {
            margin-top: -4rem; 
        }

        .time-input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            position: relative;
        }

        .time-input-group label {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.8rem;
            font-weight: 600;
            color: #64748b;
            margin: 0;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .agenda-item.expanded {
            min-height: auto;
            margin-bottom: 1.5rem;
        }

        .agenda-item:not(.expanded) {
            min-height: auto; 
            cursor: pointer;
        }

        .time-separator {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 1.25rem;
            font-weight: 800;
            color: #10b981;
            margin: 0 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 6rem;
            position: relative;
            align-self: center;
        }

        .custom-time-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(16, 185, 129, 0.15);
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.08), 0 2px 8px rgba(15, 23, 42, 0.05);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            min-width: 70px;
        }

        .time-btn {
            width: 100%;
            height: 1.5rem;
            border: none;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(52, 211, 153, 0.03));
            color: #10b981;
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .time-btn:hover {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.12), rgba(52, 211, 153, 0.08));
            color: #047857;
            transform: scale(1.02);
        }

        .time-input {
            width: 100%;
            height: 2rem;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 1rem;
            font-weight: 600;
            color: #1e293b;
            text-align: center;
            letter-spacing: 0.5px;
            border-top: 1px solid rgba(16, 185, 129, 0.1);
            border-bottom: 1px solid rgba(16, 185, 129, 0.1);
            transition: all 0.3s ease;
            cursor: default;
        }

        .agenda-item input,
        .agenda-item textarea,
        .agenda-item .time-slider {
            max-width: 100%;
            box-sizing: border-box;
        }

        #agenda-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
        }

        .item-title {
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: block;
            font-size: 1rem;
            line-height: 1.3;
        }

        @media (max-width: 768px) {
            .agenda-item {
                border-radius: 16px !important;
                overflow: hidden !important;
                max-width: 100%; 
                width: 100%; 
                overflow: hidden;
                border: none;
                margin-bottom: 0 !important; 
            }
            
            .item-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem 1rem;
                min-height: 60px; 
                cursor: pointer;
                touch-action: pan-y;
            }
            
            .agenda-item.expanded .item-content {
                padding: 0.75rem;
                padding-top: 0;
                overflow: hidden;
                max-height: none;
            }

            .agenda-item .item-info {
                flex: 1;
                min-width: 0;
                overflow: hidden;
            }

            .agenda-item .item-title {
                font-size: 0.875rem !important;
                line-height: 1 !important;
                white-space: normal !important; 
                overflow: hidden !important;
                text-overflow: ellipsis !important;
                display: -webkit-box !important;
                -webkit-line-clamp: 2 !important;
                line-clamp: 2 !important;
                line-clamp: 2 !important;
                -webkit-box-orient: vertical !important;
                max-width: 90% !important;
                margin-bottom: 0.25rem !important;
                word-break: break-word !important;
            }

            .agenda-item input[type="text"] {
                min-width: 0; 
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .agenda-item .item-time {
                font-size: 0.8rem;
            }
        }

        .period-btn {
            width: 100%;
            height: 2.5rem;
            border: none;
            background: linear-gradient(135deg, #10b981, #047857);
            color: #047857;
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.25), 0 2px 8px rgba(15, 23, 42, 0.1);
        }

        .period-control {
            min-width: 65px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            position: relative;
        }

        .period-control label {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 0.8rem;
            font-weight: 600;
            color: #64748b;
            margin: 0;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15), 0 2px 4px rgba(15, 23, 42, 0.1);
            font-family: 'Helvetica Neue', Helvetica;
        }

        .nav-btn:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.25), 0 4px 8px rgba(15, 23, 42, 0.15);
            background: rgba(255, 255, 255, 1);
            border-color: rgba(16, 185, 129, 0.4);
            color: #34d399;
        }

        .month-year-display {
            font-family: 'Helvetica Neue', Helvetica;
            font-size: 1.1rem;
            font-weight: 700;
            color: #047857;
        }

        .datetime-picker-footer {
            padding: 1.5rem;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            background: rgba(248, 250, 252, 0.5);
        }

        .btn-cancel, .btn-confirm {
            font-family: 'Helvetica Neue', Helvetica;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
            letter-spacing: 0.02em;
        }

        .btn-cancel {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #e2e8f0;
            color: #64748b;
        }
        
        .btn-cancel:hover {
            background: #f1f5f9;
            border-color: #64748b;
            transform: translateY(-1px);
        }

        .btn-confirm {
            background: linear-gradient(135deg, #10b981, #34d399);
            border: none;
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.25);
        }

        .btn-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.35);
        }

        @media (max-width: 768px) {
            .datetime-picker-overlay {
                padding: 15px;
            }

            .datetime-picker-modal {
                width: 100%;
                max-width: none;
                min-width: 280px;
                max-height: 95vh;
                border-radius: 20px;
                overflow: hidden;
            }

            .time-inputs {
                gap: 0.5rem;
                padding: 0.75rem;
                border-radius: 14px;
                flex-direction: row;
                align-items: flex-end;
                justify-content: center;
                max-width: 100%;
                box-sizing: border-box;
            }

            .time-input-group {
                gap: 0.3rem;
                flex-shrink: 0;
                min-width: auto;
                max-width: none;
            }

            .custom-time-control {
                min-width: 50px;
                max-width: 50px;
                border-radius: 10px;
            }

            .time-separator {
                font-size: 1.25rem;
                margin: 0 0.25rem;
                top: 0.5rem;
            }
        }

        .main-content {
            min-height: calc(100vh - 8rem);
        }

        @media (max-width: 768px) {
            .svg-calendar-container {
                max-width: 100%;
                margin: 0;
                border-radius: 12px;
            }
            
            #calendar-svg {
                width: 100%;
                height: auto;
            }
            
            .svg-day-header {
                font-size: 12px;
                letter-spacing: 0.3px;
            }
            
            .day-text {
                font-size: 13px;
            }
            
            .day-bg {
                rx: 10;
                ry: 10;
            }
        }

        .svg-calendar-day:active:not(.disabled) .day-bg {
            transform: scale(0.95);
            transition: transform 0.1s ease;
        }

        .svg-calendar-day.selected:hover .day-bg {
            transform: scale(1.02);
            filter: url(#selectedShadow);
        }

    .grid-footer {
    width: 100%;
    padding: 1rem;
    background: white;
    border-top: 1px solid #e2e8f0;
    }

    .grid-footer .container {
    max-width: 1200px;
    margin: 0 auto;
    }

    .footer-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    }

    .grid-footer .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .grid-footer .footer-logo-container {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0.5rem;
    }

    .grid-footer .footer-text {
        display: center;
        white-space: nowrap;
    }

    .grid-footer p.text-xs {
        margin-top: 0.5rem;
        white-space: normal;
        max-width: 100%;
    }

    .time-input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.time-input {
    width: 50px;
    height: 40px;
    text-align: center;
    font-size: 1.1rem;
    font-weight: 600;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    background: white;
}

.time-btn {
    width: 24px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #e2e8f0;
    background: #f8fafc;
    cursor: pointer;
    transition: all 0.2s ease;
}

.time-btn:hover {
    background: #e2e8f0;
}

.time-btn-up {
    border-radius: 6px 6px 0 0;
}

.time-btn-down {
    border-radius: 0 0 6px 6px;
}

.period-btn {
    width: 60px;
    height: 40px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    background: #f8fafc;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.period-btn:hover {
    background: #e2e8f0;
}

.time-separator {
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 4px;
    align-self: flex-end;
    padding-bottom: 8px;
}

    @media (min-width: 768px) {
        .grid-footer {
            text-align: center;
            padding: 0;
            white-space: nowrap;
        }

        .grid-footer .footer-content {
            flex-direction: row;
            white-space: nowrap;
            gap: 1rem;
        }

        .grid-footer .footer-logo-container {
            margin-bottom: 0;
            margin-right: 0.75rem;
        }

        .grid-footer p.text-xs {
            white-space: nowrap;
            margin-top: 0;
        }

        .footer-content {
            flex-direction: row;
            justify-content: center;
            gap: 1rem;
        }
        
        .footer-logo-container {
            margin-right: 0.5rem;
        }
    }
    </style>
</head>
<body class="bg-gradient-to-br from-green-50 via-emerald-50 to-green-50 font-business">
    <div class="background-elements">
        <div class="bg-element bg-element-1"></div>
        <div class="bg-element bg-element-2"></div>
        <div class="bg-element bg-element-3"></div>
        <div class="bg-element bg-element-4"></div>
        <div class="bg-element bg-element-5"></div>
        
        <div class="bg-geometric bg-rect-1"></div>
        <div class="bg-geometric bg-rect-2"></div>
        <div class="bg-geometric bg-rect-3"></div>
        
        <div class="bg-dots dot-1"></div>
        <div class="bg-dots dot-2"></div>
        <div class="bg-dots dot-3"></div>
        <div class="bg-dots dot-4"></div>
        <div class="bg-dots dot-5"></div>
        
        <div class="bg-ring ring-1"></div>
        <div class="bg-ring ring-2"></div>
    </div>

    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-3d-container">
            <div class="loading-3d-element" style="top: 15%; left: 10%;">
                <div class="cube-3d">
                    <div class="cube-face front"></div>
                    <div class="cube-face back"></div>
                    <div class="cube-face right"></div>
                    <div class="cube-face left"></div>
                    <div class="cube-face top"></div>
                    <div class="cube-face bottom"></div>
                </div>
            </div>
            
            <div class="loading-3d-element" style="top: 20%; right: 15%;">
                <div class="sphere-3d"></div>
            </div>
            
            <div class="loading-3d-element" style="bottom: 25%; left: 20%;">
                <div class="pyramid-3d"></div>
            </div>
            
            <div class="loading-3d-element" style="top: 60%; right: 10%;">
                <div class="torus-3d"></div>
            </div>
            
            <div class="loading-3d-element" style="top: 45%; left: 5%;">
                <div class="helix-3d"></div>
            </div>
            
            <div class="loading-3d-element" style="bottom: 15%; right: 25%;">
                <div class="crystal-3d"></div>
            </div>

            <div class="loading-3d-element" style="top: 35%; left: 80%;">
                <div class="cube-3d" style="transform: scale(0.6);">
                    <div class="cube-face front"></div>
                    <div class="cube-face back"></div>
                    <div class="cube-face right"></div>
                    <div class="cube-face left"></div>
                    <div class="cube-face top"></div>
                    <div class="cube-face bottom"></div>
                </div>
            </div>
            
            <div class="loading-3d-element" style="bottom: 40%; left: 75%;">
                <div class="sphere-3d" style="transform: scale(0.7);"></div>
            </div>
            
            <div class="loading-3d-element" style="top: 70%; left: 15%;">
                <div class="pyramid-3d" style="transform: scale(0.8);"></div>
            </div>
        </div>
        
        <div class="loading-container">
            <h1 class="loading-title">Meeting Agenda Builder</h1>
            <p class="loading-subtitle">Preparing your professional workspace...</p>
            <div class="loading-progress">
                <div class="loading-progress-bar"></div>
            </div>
            <p class="text-sm text-slate-500" id="loading-message">Initializing components...</p>
        </div>
    </div>
  <div class="grid-container">
    <nav class="grid-nav fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
        <div class="flex justify-between items-center h-16 px-8 md:px-16">
            <button onclick="skipToMainContent()" class="flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200 cursor-pointer">                <div class="relative w-10 h-10 flex items-center justify-center logo-container">
                    <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" class="interactive-logo">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
                            </linearGradient>
                            <filter id="logoShadow" x="-50%" y="-50%" width="200%" height="200%">
                                <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#047857" flood-opacity="0.3"/>
                            </filter>
                            <filter id="logoGlow" x="-50%" y="-50%" width="200%" height="200%">
                                <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="#10b981" flood-opacity="0.4"/>
                            </filter>
                        </defs>
                        
                        <circle cx="20" cy="20" r="18" fill="url(#logoGradient)" filter="url(#logoShadow)" class="logo-bg"/>
                        
                        <rect x="12" y="10" width="16" height="20" rx="2" ry="2" fill="white" opacity="0.95" class="document"/>
                        
                        <rect x="15" y="14" width="10" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="agenda-line"/>
                        <rect x="15" y="17" width="8" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="agenda-line"/>
                        <rect x="15" y="20" width="12" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="agenda-line"/>
                        <rect x="15" y="23" width="6" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="agenda-line"/>

                        <circle cx="24" cy="14" r="3" fill="#34d399" opacity="0.9" class="clock-bg"/>
                        <circle cx="24" cy="14" r="2.2" fill="white" class="clock-face"/>
                        <line x1="24" y1="14" x2="24" y2="12.5" stroke="#047857" stroke-width="0.8" stroke-linecap="round" class="clock-hand"/>
                        <line x1="24" y1="14" x2="25.2" y2="14" stroke="#047857" stroke-width="0.6" stroke-linecap="round" class="clock-hand"/>
                    </svg>
                </div>
                <h1 class="text-m font-bold bg-gradient-to-r from-emerald-600 via-teal-500 to-emerald-800 bg-clip-text text-transparent animate-gradient-x">
                    Meeting Agenda Builder
                </h1>
            </button>
            <div class="flex items-center">
                <button id="nav-reset-btn" onclick="handleNavReset()" 
                        class="flex items-center justify-center w-10 h-10 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 mr-2">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                        <path d="M3 3v5h5"></path>
                    </svg>
                </button>
                <button id="nav-export-btn" onclick="handleNavExport()" 
                        class="flex items-center justify-center w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7,10 12,15 17,10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

<main class="grid-main mx-auto px-4 relative z-10 pt-20">
        <div class="grid-details bg-white/95 backdrop-blur-sm border border-slate-200 rounded-2xl p-6 shadow-xl">
            <div class="flex justify-between items-center mb-4">
                <h3 style="color: #086b4a;" class="text-xl font-bold bg-gradient-to-r from-emerald-700 via-teal-600 to-emerald-900 bg-clip-text relative">
                    <span class="relative z-10">Meeting Details</span>
                    <div class="absolute inset-0 bg-gradient-to-r from-emerald-100 to-teal-50 opacity-20 rounded-lg transform -skew-x-12 -z-10"></div>
                </h3>
                <button class="px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg font-semibold text-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5" id="meeting-edit-save-btn" onclick="toggleMeetingInfoEdit()">
                    Save
                </button> 

            </div>
            <div class="space-y-4">
                <div>
                    <label for="meeting-title" class="block text-sm font-semibold text-slate-600 mb-2">Meeting Title</label>
                    <input type="text" id="meeting-title" placeholder="Enter meeting title..." maxlength="100"
                           class="w-full px-4 py-3 border border-slate-200 rounded-lg text-base font-medium transition-all duration-200 focus:outline-none focus:border-emerald-500 focus:ring-3 focus:ring-emerald-500/12 bg-white ">
                </div>
                <div>
                    <label for="meeting-date" class="block text-sm font-semibold text-slate-600 mb-2">Date & Time</label>
                <div class="custom-datetime-picker">
                <div class="relative">
                    <input type="text" id="meeting-date-display" readonly placeholder="Select date and time..." 
                        onclick="handleDateTimeClick()"
                        class="w-full px-4 py-3 border border-slate-200 rounded-lg text-base font-medium transition-all duration-200 focus:outline-none focus:border-emerald-500 focus:ring-3 focus:ring-emerald-500/12 bg-white cursor-pointer hover:border-emerald-300 placeholder:text-slate-500 placeholder:font-medium">
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                    <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    </div>
                </div>
                </div>
        </div>

    <div class="grid-area-items">
    <div class="grid-items mt-8">
    <div class="grid grid-cols-[1fr_auto] items-center gap-4 mb-2">
                <h3 style="color: #086b4a;" class="text-xl font-bold bg-gradient-to-r from-emerald-700 via-teal-600 to-emerald-900 bg-clip-text relative mb-4">
                    <span class="relative z-10">Agenda Items</span>
                    <div class="absolute inset-0 bg-gradient-to-r from-emerald-100 to-teal-50 opacity-20 rounded-lg transform -skew-x-12 -z-10"></div>
                </h3>
                <div class="flex items-center gap-2 flex-shrink-0">
                    <div class="px-3 py-1.5 md:px-4 md:py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full font-semibold text-xs shadow-lg whitespace-nowrap" id="total-time">
                        Total: 0 min
                    </div>
                    <div class="tooltip-container">
                        <button class="inline-add-btn w-8 h-8 md:w-9 md:h-9 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full font-bold cursor-pointer transition-all duration-300 shadow-lg backdrop-blur-sm hover:shadow-xl hover:-translate-y-1 hover:scale-110 flex items-center justify-center group overflow-hidden relative flex-shrink-0" onclick="handleAddItem(this)">
                            <div class="absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 opacity-0 transition-opacity duration-300 group-hover:opacity-100 rounded-full"></div>
                            <svg class="w-4 h-4 transition-transform duration-300 group-hover:rotate-90 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                            </svg>
                            <div class="absolute inset-0 rounded-full bg-gradient-to-r from-emerald-600 to-teal-600 opacity-0 transition-opacity duration-200 group-active:opacity-100"></div>
                        </button>
                        <div class="custom-tooltip">
                            <span class="bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent font-bold">Add Agenda</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="grid-items">
            <div class="space-y-3" id="agenda-items"></div>
            
            <div class="empty-state-container hidden" id="empty-state">
                <div class="empty-state-content bg-gradient-to-br from-emerald-50/80 via-teal-25/60 to-emerald-100/70 backdrop-blur-sm border border-emerald-200/50 rounded-3xl p-12 text-center relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-full opacity-30">
                        <div class="absolute top-6 left-6 w-16 h-16 bg-gradient-to-br from-emerald-300 to-teal-400 rounded-full blur-xl"></div>
                        <div class="absolute bottom-8 right-8 w-20 h-20 bg-gradient-to-br from-teal-300 to-emerald-400 rounded-full blur-xl"></div>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-br from-emerald-200 to-teal-300 rounded-full blur-2xl opacity-40"></div>
                    </div>
                    
                    <div class="relative z-10">
                        <div class="mb-6 flex justify-center">
                            <div class="w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/25">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="animate-pulse">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10,9 9,9 8,9"></polyline>
                                </svg>
                            </div>
                        </div>
                        
                        <h3 class="text-l font-semibold mb-3 bg-gradient-to-r from-emerald-700 via-teal-600 to-emerald-800 bg-clip-text text-transparent">
                            No Agenda Items Yet
                        </h3>
                        
                        <p class="text-slate-600 text-s mb-6 max-w-md mx-auto leading-relaxed">
                            Start building your meeting agenda by adding your first item. Click the <strong class="text-emerald-600">Add</strong> button to get started.
                        </p>

                        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <button class="empty-state-add-btn bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-8 py-4 rounded-2xl font-semibold text-base transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:scale-105 flex items-center space-x-3 group" onclick="handleAddItem(this)">
                                <svg class="w-6 h-6 transition-transform duration-300 group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                                <span class="transition-all duration-300 group-hover:tracking-wider">Add First Agenda</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</main>

<footer class="grid-footer bg-white/95 backdrop-blur-sm border-t border-slate-200">
  <div class="container mx-auto">
    <div class="footer-content flex flex-col md:flex-row items-center justify-center gap-2 md:gap-4 px-4">
      <div class="footer-logo-container flex items-center justify-center">
        <svg width="24" height="24" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" class="footer-interactive-logo">
                            <defs>
                                <linearGradient id="footerLogoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
                                </linearGradient>
                                <filter id="footerLogoShadow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="1" stdDeviation="2" flood-color="#047857" flood-opacity="0.3"/>
                                </filter>
                                <filter id="footerLogoGlow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="0" stdDeviation="4" flood-color="#10b981" flood-opacity="0.4"/>
                                </filter>
                            </defs>
                            
                            <circle cx="20" cy="20" r="18" fill="url(#footerLogoGradient)" filter="url(#footerLogoShadow)" class="footer-logo-bg"/>
                            
                            <rect x="12" y="10" width="16" height="20" rx="2" ry="2" fill="white" opacity="0.95" class="footer-document"/>
                            
                            <rect x="15" y="14" width="10" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="footer-agenda-line"/>
                            <rect x="15" y="17" width="8" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="footer-agenda-line"/>
                            <rect x="15" y="20" width="12" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="footer-agenda-line"/>
                            <rect x="15" y="23" width="6" height="1.5" rx="0.75" fill="#047857" opacity="0.8" class="footer-agenda-line"/>
                            
                            <circle cx="24" cy="14" r="3" fill="#34d399" opacity="0.9" class="footer-clock-bg"/>
                            <circle cx="24" cy="14" r="2.2" fill="white" class="footer-clock-face"/>
                            <line x1="24" y1="14" x2="24" y2="12.5" stroke="#047857" stroke-width="0.8" stroke-linecap="round" class="footer-clock-hand"/>
                            <line x1="24" y1="14" x2="25.2" y2="14" stroke="#047857" stroke-width="0.6" stroke-linecap="round" class="footer-clock-hand"/>
                        </svg>
                </div>
                <div class="text-center">
                    <span class="text-sm font-semibold bg-gradient-to-r from-slate-800 to-emerald-600 bg-clip-text text-transparent">
                    Meeting Agenda Builder
                    </span>
                    <p class="text-center text-xs text-slate-500">
                    Streamline your meetings with professional agenda planning
                    </p>
                </div>
                </div>
            </div>
            </footer>

    <div class="datetime-picker-overlay" id="datetime-picker-overlay" onclick="handleOverlayClick(event)">
        <div class="datetime-picker-modal" onclick="event.stopPropagation()">
            <div class="datetime-picker-header">
                <h2 class="text-lg font-bold bg-gradient-to-r from-emerald-700 via-teal-600 to-emerald-800 bg-clip-text text-transparent">Select Date & Time</h2>
                <button class="close-picker" onclick="closeDateTimePicker()">×</button>
            </div>
            <div class="datetime-picker-content">
                <div class="date-picker-section">
                    <div class="month-year-selector">
                        <button class="nav-btn" onclick="changeMonth(-1)">‹</button>
                        <span class="month-year-display" id="month-year-display"></span>
                        <button class="nav-btn" onclick="changeMonth(1)">›</button>
                    </div>
                    <div class="svg-calendar-container">
                        <svg id="calendar-svg" width="100%" height="380" viewBox="0 0 480 380" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="calendarBg" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#f8fafc;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#f1f5f9;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="selectedGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#10b981;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="todayGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ecfdf5;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#d1fae5;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#a7f3d0;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="hoverGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#f0fdf4;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#dcfce7;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#10b981;stop-opacity:0.1" />
                                    <stop offset="100%" style="stop-color:#047857;stop-opacity:0.15" />
                                </linearGradient>
                                <filter id="dayHover" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="6" stdDeviation="12" flood-color="#10b981" flood-opacity="0.2"/>
                                </filter>
                                <filter id="selectedShadow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="8" stdDeviation="16" flood-color="#047857" flood-opacity="0.4"/>
                                </filter>
                                <filter id="todayShadow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#10b981" flood-opacity="0.25"/>
                                </filter>
                                <filter id="calendarShadow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feDropShadow dx="0" dy="10" stdDeviation="25" flood-color="#000000" flood-opacity="0.1"/>
                                </filter>
                            </defs>
                            
                            <rect width="480" height="380" fill="url(#calendarBg)" rx="20" ry="20" filter="url(#calendarShadow)" stroke="rgba(16, 185, 129, 0.1)" stroke-width="1"/>
                            
                            <rect x="20" y="20" width="440" height="50" fill="url(#headerGradient)" rx="16" ry="16" stroke="rgba(16, 185, 129, 0.2)" stroke-width="1"/>
                            
                            <g id="day-headers">
                            </g>
                            
                                <g id="calendar-days-svg">
                            </g>
                        </svg>
                    </div>
                </div>
<div class="time-picker-section">
    <div class="time-inputs flex flex-row items-center justify-center gap-2">
        <div class="time-input-group flex flex-col items-center">
            <label class="text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wider">HOUR</label>
            <div class="flex items-center gap-1">
                <input type="text" id="hour-input" value="12" readonly class="time-input">
                <div class="flex flex-col gap-1">
                    <button type="button" class="time-btn time-btn-up" onclick="adjustTime('hour', 1)">▲</button>
                    <button type="button" class="time-btn time-btn-down" onclick="adjustTime('hour', -1)">▼</button>
                </div>
            </div>
        </div>
        
        <div class="time-separator">:</div>
        
        <div class="time-input-group flex flex-col items-center">
            <label class="text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wider">MINUTE</label>
            <div class="flex items-center gap-1">
                <input type="text" id="minute-input" value="00" readonly class="time-input">
                <div class="flex flex-col gap-1">
                    <button type="button" class="time-btn time-btn-up" onclick="adjustTime('minute', 5)">▲</button>
                    <button type="button" class="time-btn time-btn-down" onclick="adjustTime('minute', -5)">▼</button>
                </div>
            </div>
        </div>
        
        <div class="period-control ml-2">
            <button type="button" class="period-btn" id="period-btn" onclick="togglePeriod()">AM</button>
        </div>
    </div>
</div>
            </div>
            <div class="datetime-picker-footer">
                <button class="btn-cancel" onclick="closeDateTimePicker()">Cancel</button>
                <button class="btn-confirm" onclick="confirmDateTime()">Confirm</button>
            </div>
        </div>
    </div>



    <script>
        let agendaItems = [];
        let draggedItem = null;
        let isDragEnabled = false;
        let isScrolling = false;
        let meetingInfoEditMode = true;

        function init() {
            const now = new Date();
            selectedDate = new Date(now);
            selectedHour = 9;
            selectedMinute = 0;
            selectedPeriod = 'AM';
            
            const defaultDateTime = new Date(now);
            defaultDateTime.setHours(9, 0, 0, 0);
            document.getElementById('meeting-date-display').value = formatDateTime(defaultDateTime);
            document.getElementById('meeting-date-display').dataset.isoValue = defaultDateTime.toISOString();

            const meetingTitleInput = document.getElementById('meeting-title');
            if (meetingTitleInput) {
                setupInputValidation(meetingTitleInput, validationConfig.meetingTitle, false);
            }

        
            setTimeout(() => {
                if (meetingTitleInput) {
                    meetingTitleInput.focus();
                }
            }, 100);

            
            renderAgenda();

            window.addEventListener('resize', handleViewportChange);
            handleViewportChange(); 
        }

        function handleViewportChange() {
            const isMobile = window.innerWidth <= 768 || 'ontouchstart' in window || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const desktopInstructions = document.querySelector('.desktop-instructions');
            const mobileInstructions = document.querySelector('.mobile-instructions');
            
            if (desktopInstructions && mobileInstructions) {
                if (isMobile) {
                    desktopInstructions.classList.add('hidden');
                    mobileInstructions.classList.remove('hidden');
                } else {
                    desktopInstructions.classList.remove('hidden');
                    mobileInstructions.classList.add('hidden');
                }
            }

            const agendaItemsElements = document.querySelectorAll('.agenda-item');
            agendaItemsElements.forEach(item => {
                const itemHeader = item.querySelector('.item-header');
                if (itemHeader) {
                    itemHeader.draggable = false;
                    itemHeader.style.cursor = '';
                    itemHeader.style.touchAction = 'pan-y'; 
                }
                
                setupDragAndDrop(item);
            });
        }

        function generateId() {
            return 'item-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }

        function handleAddItem(button) {
            if (button.disabled) return;
            
            button.disabled = true;
            
            button.style.transform = 'scale(0.95)';
            
            addAgendaItem();
            
            setTimeout(() => {
                button.disabled = false;
                button.style.transform = '';
            }, 300);
        }

        function addAgendaItem(title = '', duration = 10) {
            const item = {
                id: generateId(),
                title: title || 'New Agenda Item',
                duration: duration,
                description: '',
                expanded: title ? false : true,
                editMode: title ? false : true  
            };
            
            agendaItems.push(item);
            renderAgenda();
            
            setTimeout(() => {
                const newItemElement = document.querySelector(`[data-id="${item.id}"]`);
                if (newItemElement) {
                    newItemElement.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    
                    if (!title) {
                        setTimeout(() => {
                            const titleInput = newItemElement.querySelector(`#title-${item.id}`);
                            if (titleInput) {
                                titleInput.focus();
                                titleInput.select();
                            }
                        }, 500); 
                    }
                    
                    newItemElement.style.transition = 'all 0.3s ease';
                    newItemElement.style.transform = 'scale(1.02)';
                    newItemElement.style.boxShadow = '0 8px 25px rgba(16, 185, 129, 0.2)';
                    
                    setTimeout(() => {
                        newItemElement.style.transform = '';
                        newItemElement.style.boxShadow = '';
                    }, 1000);
                }
            }, 100); 
        }

        function deleteItem(id) {
            const item = agendaItems.find(item => item.id === id);
            const itemTitle = item ? item.title : 'Agenda item';
            
            agendaItems = agendaItems.filter(item => item.id !== id);
            renderAgenda();
            
            showNotification('success', 'Item Deleted', `"${itemTitle}" has been removed from the agenda.`, 3000);
        }

        function updateItem(id, field, value) {
            const item = agendaItems.find(item => item.id === id);
            if (item) {
                item[field] = value;
                if (field === 'duration') {
                    updateTotalTime();
                }
            }
        }

        function toggleItem(id) {
            const item = agendaItems.find(item => item.id === id);
            if (item) {
                item.expanded = !item.expanded;
                
                const itemElement = document.querySelector(`[data-id="${id}"]`);
                if (itemElement) {
                    const content = itemElement.querySelector('.item-content');
                    if (content) {
                        if (item.expanded) {
                            content.style.maxHeight = `${content.scrollHeight}px`;
                        } else {
                            content.style.maxHeight = '0';
                        }
                    }
                    
                    itemElement.style.minHeight = item.expanded ? 'auto' : '80px';
                }
            }
        }

        function toggleItemSaveEdit(id) {
            const item = agendaItems.find(item => item.id === id);
            if (!item) return;

            if (item.editMode) {
                if (validateItemInputs(id)) {
                    item.editMode = false;
                    renderAgenda();
                    showNotification('success', 'Saved', 'Agenda item saved successfully!', 2000);
                }
            } else {
                item.editMode = true;
                if (!item.expanded) {
                    item.expanded = true;
                }
                renderAgenda();
                setTimeout(() => {
                    const newTitleInput = document.querySelector(`#title-${id}`);
                    if (newTitleInput) {
                        newTitleInput.focus();
                    }
                }, 100);
            }
        }

        function validateItemInputs(id) {
            const item = agendaItems.find(item => item.id === id);
            if (!item) return false;

            const titleInput = document.getElementById(`title-${id}`);
            const descInput = document.getElementById(`desc-${id}`);
            
            let isValid = true;
            
            if (titleInput) {
                const titleResult = validateInput(titleInput, validationConfig.agendaTitle, true);
                if (!titleResult.isValid) {
                    isValid = false;
                    titleInput.focus();
                    showNotification('error', 'Validation Error', titleResult.message, 4000);
                }
            }
            
            if (descInput && isValid) {
                const descResult = validateInput(descInput, validationConfig.agendaDescription, true);
                if (!descResult.isValid) {
                    isValid = false;
                    descInput.focus();
                    showNotification('error', 'Validation Error', descResult.message, 4000);
                }
            }

            return isValid;
        }

        function updateTotalTime() {
            const total = agendaItems.reduce((sum, item) => sum + parseInt(item.duration), 0);
            const hours = Math.floor(total / 60);
            const minutes = total % 60;
            const timeText = hours > 0 ? `${hours}h ${minutes}min` : `${minutes} min`;
            document.getElementById('total-time').textContent = `Total: ${timeText}`;
        }

        function renderAgenda() {
            const container = document.getElementById('agenda-items');
            container.style.display = 'flex';
            container.style.flexDirection = 'column';
            container.style.gap = '1rem';
            container.removeEventListener('dragover', handleDragOver);
            container.removeEventListener('drop', handleDrop);
            const emptyState = document.getElementById('empty-state');
            const inlineAddBtn = document.querySelector('.inline-add-btn');
            container.innerHTML = '';
            
            if (agendaItems.length === 0) {
                emptyState.classList.remove('hidden');
                container.classList.add('hidden');
                if (inlineAddBtn) inlineAddBtn.classList.add('hidden');
            } else {
                emptyState.classList.add('hidden');
                container.classList.remove('hidden');
                if (inlineAddBtn) inlineAddBtn.classList.remove('hidden');
            }
            
            const isMobile = window.innerWidth <= 768 || 'ontouchstart' in window || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (!isMobile) {
                container.removeEventListener('dragover', handleDragOver);
                container.removeEventListener('drop', handleDrop);
                
                container.addEventListener('dragover', handleDragOver);
                container.addEventListener('drop', handleDrop);
            }
            
            agendaItems.forEach((item, index) => {
                const itemEl = document.createElement('div');
                itemEl.className = `agenda-item bg-white/95 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${
                    item.expanded ? 'expanded' : ''
                }`;
                itemEl.style.minHeight = item.expanded ? 'auto' : '80px';               
                itemEl.className = `agenda-item bg-white/95 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:bg-white hover:border-emerald-200 ${item.expanded ? 'expanded' : ''}`;
                itemEl.dataset.id = item.id;
                itemEl.dataset.index = index;
                
                const saveEditIcon = item.editMode ? 
                    '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17,21 17,13 7,13 7,21"></polyline><polyline points="7,3 7,8 15,8"></polyline></svg>' :
                    '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>';
                
                itemEl.innerHTML = `
                    <div class="long-press-indicator"></div>
                    <div class="absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity duration-300 ${item.expanded ? 'opacity-100' : ''}"></div>
                    
                    <div class="item-header p-4 flex justify-between items-center cursor-pointer select-none" onclick="toggleItem('${item.id}')">
                        <div class="item-info">
                            <div class="flex-1 min-w-0 overflow-hidden">
                                <div class="item-title font-semibold text-slate-800 text-lg truncate">
                                    ${item.title}
                                </div>
                                <div class="item-time text-sm font-medium text-slate-500 truncate">
                                    ${item.duration} minutes
                                </div>
                            </div>
                        </div>
                        <div class="header-actions flex items-center gap-3 flex-shrink-0">
                            <button class="save-edit-btn w-10 h-10 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-xl transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 flex items-center justify-center" onclick="event.stopPropagation(); toggleItemSaveEdit('${item.id}')">
                                ${saveEditIcon}
                            </button>
                            <button class="delete-btn w-10 h-10 bg-white text-red-500 border border-red-200 rounded-xl transition-all duration-300 hover:bg-red-50 hover:border-red-300 hover:shadow-lg hover:-translate-y-0.5 flex items-center justify-center" onclick="event.stopPropagation(); deleteItem('${item.id}')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="3,6 5,6 21,6"></polyline>
                                    <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </button>
                            <span class="expand-icon text-slate-400 transition-transform duration-300 text-2xl ${item.expanded ? 'rotate-180' : ''} cursor-pointer hover:text-slate-600">▼</span>
                        </div>
                    </div>
                    <div class="item-content transition-all duration-300 ease-out ${item.expanded ? 'max-h-96 p-4 pt-0' : 'max-h-0 p-0 overflow-hidden'}">
                        ${item.editMode ? `
                            <div class="space-y-0">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-1">Title</label>
                                    <div class="relative">
                                        <input type="text" id="title-${item.id}" value="${item.title}" 
                                            onchange="updateItemTitle('${item.id}', this.value)"
                                            oninput="updateItemTitleLive('${item.id}', this.value)"
                                            placeholder="Agenda item title"
                                            maxlength="${validationConfig.agendaTitle.maxLength}"
                                            class="w-full px-4 py-3 border border-slate-200 rounded-lg text-base font-medium transition-all duration-200 focus:outline-none focus:border-emerald-500 focus:ring-3 focus:ring-emerald-500/12 bg-white truncate">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-1">Description</label>
                                    <textarea id="desc-${item.id}" 
                                              placeholder="Description or notes for this agenda item..." 
                                              onchange="updateItem('${item.id}', 'description', this.value)"
                                              maxlength="${validationConfig.agendaDescription.maxLength}"
                                              class="w-full px-4 py-3 border border-slate-200 rounded-lg text-base font-medium resize-vertical min-h-20 transition-all duration-200 focus:outline-none focus:border-emerald-500 focus:ring-3 focus:ring-emerald-500/12 bg-white">${item.description}</textarea>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-1">Duration</label>
                                    <div class="relative pr-16" data-item-id="${item.id}">
                                        <div class="absolute right-0 top-1/2 -translate-y-1/2 font-bold text-emerald-600 z-10 pointer-events-none">
                                            <span id="duration-${item.id}">${item.duration}</span> min
                                        </div>
                                        <input type="range" class="time-slider w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" min="5" max="120" step="5" 
                                               value="${item.duration}" 
                                               data-item-id="${item.id}"
                                               oninput="updateDuration('${item.id}', this.value)">
                                    </div>
                                </div>
                            </div>
                        ` : `
                            <div class="space-y-4 view-mode-content" data-item-id="${item.id}">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-1">Description</label>
                                    <div class="px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-base font-medium text-slate-700 min-h-20 view-field" data-field="description">
                                        ${item.description || 'No description provided.'}
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-1">Duration</label>
                                    <div class="relative pr-16">
                                        <div class="absolute right-0 top-1/2 -translate-y-1/2 font-bold text-emerald-600 z-10 pointer-events-none">
                                            <span id="duration-view-${item.id}">${item.duration}</span> min
                                        </div>
                                        <input type="range" 
                                               class="time-slider-view w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-not-allowed" 
                                               min="5" max="120" step="5" 
                                               value="${item.duration}" 
                                               data-item-id="${item.id}"
                                               disabled>
                                    </div>
                                </div>
                            </div>
                        `}
                    </div>
                `;
                
                setupDragAndDrop(itemEl);
                setupSliderInteractions(itemEl);
                setupViewModeInteractions(itemEl, item);
                
                container.appendChild(itemEl);
                
                if (item.editMode) {
                    setTimeout(() => {
                        const titleInput = document.getElementById(`title-${item.id}`);
                        const descInput = document.getElementById(`desc-${item.id}`);
                        
                        if (titleInput) {
                            setupInputValidation(titleInput, validationConfig.agendaTitle, false);
                        }
                        if (descInput) {
                            setupInputValidation(descInput, validationConfig.agendaDescription, false);
                        }
                    }, 100);
                }
            });
            
            updateTotalTime();
        }

        function setupSliderInteractions(itemElement) {
            const timeControl = itemElement.querySelector('[data-item-id]');
            const slider = itemElement.querySelector('.time-slider');
            const viewSlider = itemElement.querySelector('.time-slider-view');
            const itemId = itemElement.dataset.id;
            
            if (timeControl && slider) {
                timeControl.addEventListener('mousedown', function(e) {
                    e.stopPropagation();
                });
                
                timeControl.addEventListener('touchstart', function(e) {
                    e.stopPropagation();
                });

                slider.addEventListener('input', function(e) {
                    const value = e.target.value;
                    const durationDisplay = itemElement.querySelector(`#duration-${itemId}`);
                    if (durationDisplay) {
                        durationDisplay.textContent = value;
                    }
                    
                    const itemTimeDisplay = itemElement.querySelector('.item-time');
                    if (itemTimeDisplay) {
                        itemTimeDisplay.textContent = `${value} minutes`;
                    }

                    updateSliderFill(slider, value);
                });

                slider.addEventListener('change', function(e) {
                    const value = e.target.value;
                    updateDuration(itemId, value);
                });

                
                updateSliderFill(slider, slider.value);
            }
            
            
            if (viewSlider) {
                
                updateSliderFill(viewSlider, viewSlider.value);
            }
        }

        function setupViewModeInteractions(itemElement, item) {
            if (item.editMode) return; 
            
            const viewModeContent = itemElement.querySelector('.view-mode-content');
            const viewFields = itemElement.querySelectorAll('.view-field');
            const timeControlView = itemElement.querySelector('.time-control-view');
            
            if (viewModeContent) {
                
                viewFields.forEach(field => {
                    field.addEventListener('click', function(e) {
                        e.stopPropagation();
                        showNotification('info', 'Edit Mode Required', 'Click the Edit button (✏️) to modify this content.', 3000);
                    });
                });
                
                if (timeControlView) {
                    timeControlView.addEventListener('click', function(e) {
                        e.stopPropagation();
                        showNotification('info', 'Edit Mode Required', 'Click the Edit button (✏️) to adjust the duration.', 3000);
                    });
                }
            }
        }



        function updateSliderFill(slider, value) {
            const percentage = ((value - slider.min) / (slider.max - slider.min)) * 100;
            const gradient = `linear-gradient(to right, #34d399 0%, #34d399 ${percentage}%, #f1f5f9 ${percentage}%, #f1f5f9 100%)`;
            slider.style.background = gradient;
        }

        function updateDuration(id, value) {
            updateItem(id, 'duration', parseInt(value));
            
            
            const durationDisplay = document.getElementById(`duration-${id}`);
            if (durationDisplay) {
                durationDisplay.textContent = value;
            }
            
            
            const viewDurationDisplay = document.getElementById(`duration-view-${id}`);
            if (viewDurationDisplay) {
                viewDurationDisplay.textContent = value;
            }
            
            const itemElement = document.querySelector(`[data-id="${id}"]`);
            if (itemElement) {
                const timeDisplay = itemElement.querySelector('.item-time');
                if (timeDisplay) {
                    timeDisplay.textContent = `${value} minutes`;
                }
                
                
                const slider = itemElement.querySelector('.time-slider');
                if (slider) {
                    updateSliderFill(slider, value);
                }
                
                
                const viewSlider = itemElement.querySelector('.time-slider-view');
                if (viewSlider) {
                    viewSlider.value = value;
                    updateSliderFill(viewSlider, value);
                }
            }
            updateTotalTime();
        }

        function updateItemTitle(id, value) {
            updateItem(id, 'title', value);
            
            const itemElement = document.querySelector(`[data-id="${id}"]`);
            if (itemElement) {
                const titleDisplay = itemElement.querySelector('.item-title');
                if (titleDisplay) {
                    titleDisplay.textContent = value;
                }
            }
        }

        function updateItemTitleLive(id, value) {
            const itemElement = document.querySelector(`[data-id="${id}"]`);
            if (itemElement) {
                const titleDisplay = itemElement.querySelector('.item-title');
                if (titleDisplay) {
                    titleDisplay.textContent = value;
                }
            }
        }

        function handleMobileTouchMove(e) {
            if (!currentDraggedElement || !isDraggingMobile) {
                const deltaX = Math.abs(e.touches[0].clientX - touchStartX);
                const deltaY = Math.abs(e.touches[0].clientY - touchStartY);
                
                if (deltaX > 10 || deltaY > 10) {
                    isDraggingMobile = true;
                    currentDraggedElement.classList.add('dragging-mobile');
                }
                return;
            }
            
            const touch = e.touches[0];
            const deltaY = touch.clientY - touchStartY;
            
            currentDraggedElement.style.transform = `translateY(${deltaY}px)`;
            
            const container = document.getElementById('agenda-items');
            const elements = Array.from(container.querySelectorAll('.agenda-item:not(.dragging-mobile)'));
            
            let closestElement = null;
            let closestDistance = Infinity;
            
            elements.forEach(el => {
                const rect = el.getBoundingClientRect();
                const centerY = rect.top + rect.height / 2;
                const distance = Math.abs(touch.clientY - centerY);
                
                if (distance < closestDistance) {
                    closestDistance = distance;
                    closestElement = el;
                }
            });
            
            elements.forEach(el => el.classList.remove('drag-over-mobile'));
            
            if (closestElement) {
                const rect = closestElement.getBoundingClientRect();
                const shouldPlaceBefore = touch.clientY < (rect.top + rect.height / 2);
                
                closestElement.classList.add('drag-over-mobile');
                closestElement.dataset.insertBefore = shouldPlaceBefore ? 'true' : 'false';
            }
            
            e.preventDefault();
        }

        function handleMobileTouchEnd(e) {
            if (!isDraggingMobile || !currentDraggedElement) {
                return;
            }
            
            const container = document.getElementById('agenda-items');
            const dragOverElement = container.querySelector('.drag-over-mobile');
            
            currentDraggedElement.style.transform = '';
            currentDraggedElement.style.transition = 'transform 0.3s ease';
            currentDraggedElement.classList.remove('dragging-mobile');
            currentDraggedElement.style.zIndex = '';
            currentDraggedElement.style.boxShadow = '';
            
            if (dragOverElement) {
                const shouldPlaceBefore = dragOverElement.dataset.insertBefore === 'true';
                
                if (shouldPlaceBefore) {
                    container.insertBefore(currentDraggedElement, dragOverElement);
                } else {
                    container.insertBefore(currentDraggedElement, dragOverElement.nextSibling);
                }
                
                dragOverElement.classList.remove('drag-over-mobile');
                delete dragOverElement.dataset.insertBefore;
            }
            
            const newOrder = [];
            document.querySelectorAll('.agenda-item').forEach(item => {
                const id = item.dataset.id;
                const originalItem = agendaItems.find(ai => ai.id === id);
                if (originalItem) newOrder.push(originalItem);
            });
            
            agendaItems = newOrder;
            
            isDraggingMobile = false;
            currentDraggedElement = null;
            
            setTimeout(() => {
                if (currentDraggedElement) {
                    currentDraggedElement.style.transition = '';
                }
            }, 300);
        }

        function setupDragAndDrop(element) {
            const dragHandle = element.querySelector('.drag-handle');
            const itemHeader = element.querySelector('.item-header');
            const timeControl = element.querySelector('.time-control');
            const headerActions = element.querySelector('.header-actions');
            
            const isMobile = window.innerWidth <= 768 || 'ontouchstart' in window || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            itemHeader.removeEventListener('dragstart', handleDragStart);
            itemHeader.removeEventListener('dragend', handleDragEnd);
            itemHeader.removeEventListener('touchstart', handleMobileTouchStart);
            itemHeader.removeEventListener('touchmove', handleMobileTouchMove);
            itemHeader.removeEventListener('touchend', handleMobileTouchEnd);
            
            if (isMobile) {
                element.draggable = false;
                itemHeader.draggable = false;
                itemHeader.style.touchAction = 'pan-y';
                itemHeader.style.cursor = 'default';
                
                itemHeader.addEventListener('touchstart', handleMobileTouchStart, { passive: false });
                itemHeader.addEventListener('touchmove', handleMobileTouchMove, { passive: false });
                itemHeader.addEventListener('touchend', handleMobileTouchEnd, { passive: true });
            } else {
                element.draggable = false;
                itemHeader.draggable = true;
                itemHeader.addEventListener('dragstart', handleDragStart);
                itemHeader.addEventListener('dragend', handleDragEnd);
                itemHeader.style.cursor = 'move';
                itemHeader.style.touchAction = 'none';
            }

            if (timeControl) {
                timeControl.addEventListener('mousedown', function(e) {
                    e.stopPropagation();
                });
                timeControl.addEventListener('touchstart', function(e) {
                    e.stopPropagation();
                }, { passive: true });
                timeControl.draggable = false;
            }
            
            if (headerActions) {
                headerActions.addEventListener('mousedown', function(e) {
                    e.stopPropagation();
                });
                headerActions.addEventListener('touchstart', function(e) {
                    e.stopPropagation();
                }, { passive: true });
                headerActions.draggable = false;
            }
        }

        let touchStartY = 0;
        let touchStartX = 0;
        let isDraggingMobile = false;
        let currentDraggedElement = null;

        function handleMobileTouchStart(e) {
            if (e.target.closest('.header-actions') || e.target.closest('button')) {
                return;
            }
            
            const element = e.target.closest('.agenda-item');
            if (!element) return;
            
            touchStartY = e.touches[0].clientY;
            touchStartX = e.touches[0].clientX;
            currentDraggedElement = element;
            
            element.style.transition = 'none';
            element.style.zIndex = '1000';
            element.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';
            
            e.preventDefault();
        }

        function startMobileDrag(element, touch) {
            isDraggingMobile = true;
            element.classList.add('dragging-mobile');
            element.style.zIndex = '1000';
            element.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';
            
            touchStartY = touch.clientY;
            touchStartX = touch.clientX;
        }

        function setupMobileDragDetection(itemHeader) {
            let longPressTimer = null;
            let startX = 0;
            let startY = 0;
            let hasMoved = false;
            
            itemHeader.addEventListener('touchstart', function(e) {
                if (e.target.closest('.header-actions') || e.target.closest('button')) {
                    return;
                }
                
                const element = e.target.closest('.agenda-item');
                if (element.classList.contains('expanded') && e.target.closest('.item-content')) {
                    return;
                }
                
                const touch = e.touches[0];
                startX = touch.clientX;
                startY = touch.clientY;
                hasMoved = false;
                
                if (longPressTimer) {
                    clearTimeout(longPressTimer);
                }
                
                longPressTimer = setTimeout(() => {
                    if (!hasMoved) {
                        startDragMode(element, touch);
                    }
                }, 800); 
                
                const touchMoveHandler = (moveEvent) => {
                    const moveTouch = moveEvent.touches[0];
                    if (moveTouch) {
                        const deltaX = Math.abs(moveTouch.clientX - startX);
                        const deltaY = Math.abs(moveTouch.clientY - startY);
                        
                        if (deltaX > 5 || deltaY > 5) {
                            hasMoved = true;
                            clearTimeout(longPressTimer);
                            cleanup();
                        }
                    }
                };
                
                const touchEndHandler = () => {
                    clearTimeout(longPressTimer);
                    cleanup();
                };
                
                const cleanup = () => {
                    itemHeader.removeEventListener('touchmove', touchMoveHandler);
                    itemHeader.removeEventListener('touchend', touchEndHandler);
                };
                
                itemHeader.addEventListener('touchmove', touchMoveHandler, { passive: true });
                itemHeader.addEventListener('touchend', touchEndHandler, { passive: true });
                
            }, { passive: true }); 
        }

        function startDragMode(element, initialTouch) {
            isDragEnabled = true;
            draggedItem = element;
            element.classList.add('drag-ready');
            
            const indicator = element.querySelector('.long-press-indicator');
            if (indicator) {
                indicator.classList.add('active');
                setTimeout(() => {
                    indicator.classList.remove('active');
                }, 300);
            }
            
            setupDragMoveHandlers(initialTouch);
        }

        function setupDragMoveHandlers(initialTouch) {
            let initialY = initialTouch.clientY;
            let currentY = initialY;
            
            const moveHandler = (e) => {
                if (!isDragEnabled || !draggedItem) return;
                
                const touch = e.touches ? e.touches[0] : e;
                if (!touch) return;
                
                currentY = touch.clientY;
                const deltaY = currentY - initialY;
                
                draggedItem.style.transform = `translateY(${deltaY}px)`;
                draggedItem.classList.add('dragging');
                
                const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
                const itemBelow = elementBelow?.closest('.agenda-item');
                
                if (itemBelow && itemBelow !== draggedItem) {
                    const rect = itemBelow.getBoundingClientRect();
                    const midpoint = rect.top + rect.height / 2;
                    
                    if (currentY < midpoint) {
                        itemBelow.parentNode.insertBefore(draggedItem, itemBelow);
                    } else {
                        itemBelow.parentNode.insertBefore(draggedItem, itemBelow.nextSibling);
                    }
                    
                    initialY = currentY;
                    draggedItem.style.transform = 'translateY(0)';
                }
            };
            
            const endHandler = () => {
                if (draggedItem) {
                    draggedItem.classList.remove('dragging', 'drag-ready');
                    draggedItem.style.transform = '';
                    
                    const newOrder = [];
                    document.querySelectorAll('.agenda-item').forEach(item => {
                        const id = item.dataset.id;
                        const originalItem = agendaItems.find(ai => ai.id === id);
                        if (originalItem) newOrder.push(originalItem);
                    });
                    
                    agendaItems = newOrder;
                    saveAgendaToLocalStorage();
                }
                
                isDragEnabled = false;
                draggedItem = null;
                
                document.removeEventListener('touchmove', moveHandler);
                document.removeEventListener('touchend', endHandler);
                document.removeEventListener('mousemove', moveHandler);
                document.removeEventListener('mouseup', endHandler);
            };
            
            if ('ontouchstart' in window) {
                document.addEventListener('touchmove', moveHandler, { passive: false });
                document.addEventListener('touchend', endHandler, { passive: true });
            } else {
                document.addEventListener('mousemove', moveHandler);
                document.addEventListener('mouseup', endHandler);
            }
        }

        function handleDragStart(e) {
            if (e.target.closest('.header-actions') || e.target.closest('button')) {
                e.preventDefault();
                return false;
            }
            
            draggedItem = e.target.closest('.agenda-item');
            if (!draggedItem) {
                e.preventDefault();
                return false;
            }
            
            draggedItem.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', draggedItem.outerHTML);
            
            setTimeout(() => {
                if (draggedItem) {
                    draggedItem.style.opacity = '0.5';
                }
            }, 0);
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            
            if (!draggedItem) return;
            
            const container = document.getElementById('agenda-items');
            const afterElement = getDragAfterElement(container, e.clientY);
            
            if (afterElement == null) {
                container.appendChild(draggedItem);
            } else {
                container.insertBefore(draggedItem, afterElement);
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            
            if (!draggedItem) return;
            
            const newOrder = [];
            document.querySelectorAll('.agenda-item').forEach(item => {
                const id = item.dataset.id;
                const originalItem = agendaItems.find(ai => ai.id === id);
                if (originalItem) newOrder.push(originalItem);
            });
            
            agendaItems = newOrder;
            draggedItem.style.opacity = '';
            draggedItem.classList.remove('dragging');
        }

        function handleDragEnd(e) {
            if (draggedItem) {
                draggedItem.classList.remove('dragging');
                draggedItem.style.opacity = '';
                
                const newOrder = [];
                document.querySelectorAll('.agenda-item').forEach(item => {
                    const id = item.dataset.id;
                    const originalItem = agendaItems.find(ai => ai.id === id);
                    if (originalItem) newOrder.push(originalItem);
                });
                
                agendaItems = newOrder;
                draggedItem = null;
            }
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.agenda-item:not(.dragging)')];
            
            draggableElements.forEach(el => {
                el.classList.remove('drag-over', 'drag-over-top', 'drag-over-bottom', 'drag-over-middle');
            });
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    if (offset < -box.height/3) {
                        child.classList.add('drag-over', 'drag-over-top');
                    } else if (offset > box.height/3) {
                        child.classList.add('drag-over', 'drag-over-bottom');
                    } else {
                        child.classList.add('drag-over', 'drag-over-middle');
                    }
                    
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        function toggleMeetingInfoEdit() {
            const btn = document.getElementById('meeting-edit-save-btn');
            const titleInput = document.getElementById('meeting-title');
            const dateInput = document.getElementById('meeting-date-display');
            
            if (meetingInfoEditMode) {
                
                if (validateMeetingInfo()) {
                    meetingInfoEditMode = false;
                    btn.textContent = 'Edit';
                    titleInput.readOnly = true;
                    dateInput.style.pointerEvents = 'none';
                    
                    
                    setupMeetingDetailsViewMode();
                    
                    showNotification('success', 'Saved', 'Meeting details saved successfully!', 2000);
                }
            } else {
                
                meetingInfoEditMode = true;
                btn.textContent = 'Save';
                titleInput.readOnly = false;
                dateInput.style.pointerEvents = 'auto';
                
                
                removeMeetingDetailsViewMode();
                
                titleInput.focus();
            }
        }

        function validateMeetingInfo() {
            const titleInput = document.getElementById('meeting-title');
            const titleResult = validateInput(titleInput, validationConfig.meetingTitle, true);
            
            if (!titleResult.isValid) {
                showNotification('error', 'Validation Error', titleResult.message, 4000);
                titleInput.focus();
                return false;
            }
            
            return true;
        }

        function setupMeetingDetailsViewMode() {
            const titleInput = document.getElementById('meeting-title');
            const dateInput = document.getElementById('meeting-date-display');
            
            
            titleInput.classList.add('meeting-field-readonly');
            dateInput.classList.add('meeting-field-readonly', 'date-input-readonly');
            
            
            titleInput.addEventListener('click', handleMeetingTitleViewClick);
            dateInput.addEventListener('click', handleMeetingDateViewClick);
        }

        function removeMeetingDetailsViewMode() {
            const titleInput = document.getElementById('meeting-title');
            const dateInput = document.getElementById('meeting-date-display');
            
            
            titleInput.classList.remove('meeting-field-readonly');
            dateInput.classList.remove('meeting-field-readonly', 'date-input-readonly');
            
            
            titleInput.removeEventListener('click', handleMeetingTitleViewClick);
            dateInput.removeEventListener('click', handleMeetingDateViewClick);
        }

        function handleMeetingTitleViewClick(e) {
            e.stopPropagation();
            showNotification('info', 'Edit Mode Required', 'Click the Edit button to modify the meeting title.', 3000);
        }

        function handleMeetingDateViewClick(e) {
            e.stopPropagation();
            showNotification('info', 'Edit Mode Required', 'Click the Edit button to modify the meeting date and time.', 3000);
        }

        function handleDateTimeClick() {
            if (meetingInfoEditMode) {
                toggleDateTimePicker();
            } else {
                showNotification('info', 'Edit Mode Required', 'Click "Edit" to modify the meeting date and time.', 3000);
            }
        }

        function handleNavExport() {
            
            if (agendaItems.length === 0) {
                showNotification('info', 'No Content to Export', 'Please add some agenda items before exporting. Click the "Add" button to create your first agenda item.', 5000);
                return;
            }

            
            if (meetingInfoEditMode) {
                showNotification('warning', 'Save Required', 'Please save the meeting details before exporting. Click the Save button in the meeting details section.', 5000);
                return;
            }


            const unsavedItems = agendaItems.filter(item => item.editMode);
            if (unsavedItems.length > 0) {
                const itemNames = unsavedItems.map(item => `"${item.title}"`).join(', ');
                showNotification('warning', 'Save Required', `Please save the following agenda items before exporting: ${itemNames}. Click the Save button (✓) for each item.`, 7000);
                return;
            }

            
            exportAgenda();
        }

        function handleNavReset() {
            const notification = showNotification('warning', 'Reset Agenda', 
                'Are you sure you want to reset the entire agenda? This will clear all meeting details and agenda items.', 
                0); 
            
            notification.innerHTML += `
                <div class="flex justify-end gap-2 mt-3">
                    <button class="px-3 py-1 text-sm rounded border border-slate-300 text-slate-700 hover:bg-slate-100 transition-colors" 
                            onclick="hideNotification(this.closest('.validation-notification'));">
                        Cancel
                    </button>
                    <button class="px-3 py-1 text-sm rounded bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:opacity-90 transition-opacity"
                            onclick="confirmReset(); hideNotification(this.closest('.validation-notification'));">
                        Confirm Reset
                    </button>
                </div>
            `;
        }

        function confirmReset() {
            document.getElementById('meeting-title').value = '';
            document.getElementById('meeting-date-display').value = '';
            document.getElementById('meeting-date-display').dataset.isoValue = '';
            
            agendaItems = [];
            
            meetingInfoEditMode = true;
            document.getElementById('meeting-edit-save-btn').textContent = 'Save';
            
            renderAgenda();
            
            showNotification('success', 'Reset Complete', 'All meeting details and agenda items have been cleared.', 3000);
            
            setTimeout(() => {
                document.getElementById('meeting-title').focus();
            }, 500);
        }

        function exportAgenda() {
            if (!validateForm()) {
                return;
            }

            const title = document.getElementById('meeting-title').value.trim() || 'Untitled Meeting';
            const dateDisplay = document.getElementById('meeting-date-display').value;
            const dateISO = document.getElementById('meeting-date-display').dataset.isoValue;
            
            let formattedDate = 'Date not set';
            if (dateISO) {
                formattedDate = new Date(dateISO).toLocaleString();
            } else if (dateDisplay) {
                formattedDate = dateDisplay;
            }
            
            let text = `${title}\n`;
            text += `${formattedDate}\n`;
            text += `${'='.repeat(40)}\n\n`;
            
            let runningTime = 0;
            agendaItems.forEach((item, index) => {
                const startTime = runningTime;
                const endTime = runningTime + item.duration;
                
                text += `${index + 1}. ${item.title} (${item.duration} min)\n`;
                text += `   Time: ${formatMinutes(startTime)} - ${formatMinutes(endTime)}\n`;
                if (item.description.trim()) {
                    text += `   Notes: ${item.description.trim()}\n`;
                }
                text += '\n';
                
                runningTime = endTime;
            });
            
            text += `\nTotal Duration: ${formatMinutes(runningTime)}`;
            
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            
            
            const filename = title.length > 0 ? 
                `${title.replace(/[^a-z0-9\s]/gi, '').replace(/\s+/g, '_').toLowerCase()}_agenda.txt` : 
                'meeting_agenda.txt';
            
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('success', 'Export Successful', `Meeting agenda "${title}" has been exported successfully!`, 3000);
        }

        function formatMinutes(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            return hours > 0 ? `${hours}h ${mins}min` : `${mins}min`;
        }

        
        let currentDate = new Date();
        let selectedDate = null;
        let selectedHour = 9;
        let selectedMinute = 0;
        let selectedPeriod = 'AM';
        let scrollPosition = 0;
        let activeNotifications = [];
        let userHasInteracted = false;

        const validationConfig = {
            meetingTitle: {
                maxLength: 100,
                minLength: 3,
                required: true,
                label: 'Meeting Title',
                pattern: /[a-zA-Z0-9]/, 
                minAlphanumeric: 3,
                patternMessage: 'must contain at least 3 alphanumeric characters'
            },
            agendaTitle: {
                maxLength: 40,
                minLength: 3,
                required: true,
                label: 'Agenda Item Title',
                pattern: /[a-zA-Z0-9]/,
                patternMessage: 'must contain at least one letter or number'
            },
            agendaDescription: {
                maxLength: 500,
                minLength: 0,
                required: false,
                label: 'Description'
            }
        };

        function showNotification(type, title, message, duration = 5000) {
            const existingNotifications = document.querySelectorAll(`.validation-notification.${type}`);
            existingNotifications.forEach(notification => {
                hideNotification(notification);
            });

            const notificationId = `notification-${Date.now()}`;
            const notification = document.createElement('div');
            notification.id = notificationId;
            notification.className = `validation-notification ${type}`;
            
            const iconMap = {
                error: '✕',
                warning: '⚠',
                success: '✓',
                info: 'ℹ'
            };
            
            notification.innerHTML = `
                <div class="validation-notification-header">
                    <div class="validation-notification-icon">${iconMap[type] || iconMap.info}</div>
                    <h4 class="validation-notification-title">${title}</h4>
                </div>
                <p class="validation-notification-message">${message}</p>
                <button class="validation-notification-close" onclick="hideNotification(document.getElementById('${notificationId}'))">&times;</button>
            `;
            
            document.body.appendChild(notification);
            activeNotifications.push(notificationId);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            if (duration > 0) {
                setTimeout(() => {
                    hideNotification(notification);
                }, duration);
            }
            
            return notification;
        }

        function hideNotification(notification) {
            if (!notification) return;
            
            notification.classList.remove('show');
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                    const index = activeNotifications.indexOf(notification.id);
                    if (index > -1) {
                        activeNotifications.splice(index, 1);
                    }
                }
            }, 400);
        }

        function validateInput(input, config, applyVisualFeedback = true) {
            const value = input.value.trim();
            const originalValue = input.value;
            let isValid = true;
            let validationType = '';
            let message = '';

            input.classList.remove('input-error', 'input-warning', 'input-success');

            if (originalValue.length > 0 && value.length === 0) {
                isValid = false;
                validationType = 'error';
                message = `${config.label} cannot contain only spaces`;
            }
            else if (config.required && value.length === 0) {
                isValid = false;
                validationType = 'error';
                message = `${config.label} is required`;
            }
            else if (config.required && value.length > 0 && value.length < config.minLength) {
                isValid = false;
                validationType = 'error';
                message = `${config.label} must be at least ${config.minLength} characters`;
            }
            else if (value.length > config.maxLength) {
                isValid = false;
                validationType = 'error';
                message = `${config.label} cannot exceed ${config.maxLength} characters`;
            }
            else if (config.pattern && !config.pattern.test(value)) {
                isValid = false;
                validationType = 'error';
                message = `${config.label} must start with a letter or number`;
            }
            else if (config.minAlphanumeric) {
                const alphanumericCount = value.replace(/[^a-zA-Z0-9]/g, '').length;
                if (alphanumericCount < config.minAlphanumeric) {
                    isValid = false;
                    validationType = 'error';
                    message = `${config.label} must contain at least ${config.minAlphanumeric} alphanumeric characters`;
                }
            }
            else if (value.length > config.maxLength * 0.9) {
                validationType = 'warning';
                message = `${config.label} is approaching character limit`;
            }
            else if (value.length >= config.minLength) {
                validationType = 'success';
            }

            if (validationType && applyVisualFeedback) {
                input.classList.add(`input-${validationType}`);
            }

            return {
                isValid,
                type: validationType,
                message,
                characterCount: originalValue.length,
                maxLength: config.maxLength
            };
        }

        function setupInputValidation(input, config, showNotificationsInitially = false) {
            let debounceTimer;
            let hasUserInteractedWithField = false;
            
            const counter = document.createElement('div');
            counter.className = 'character-counter';
            input.parentNode.appendChild(counter);
            
            function updateValidation(showNotifications = false, applyVisualFeedback = true) {
                const result = validateInput(input, config, applyVisualFeedback);
                
                counter.textContent = `${result.characterCount}/${result.maxLength}`;
                counter.className = 'character-counter';
                
                if (result.characterCount > config.maxLength * 0.9) {
                    counter.classList.add(result.characterCount > config.maxLength ? 'error' : 'warning');
                }
                

                const shouldShowNotification = showNotifications && 
                                             !result.isValid && 
                                             result.message;
                
                if (shouldShowNotification) {
                    showNotification(result.type, 'Input Validation', result.message, 3000);
                }
                
                return result.isValid;
            }
            
            function markUserInteraction() {
                userHasInteracted = true;
                hasUserInteractedWithField = true;
            }
            
            input.addEventListener('input', function() {
                markUserInteraction();
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => updateValidation(false, true), 300);
            });
            
            input.addEventListener('blur', function() {
                markUserInteraction();
                updateValidation(false, true);
            });
            
            input.addEventListener('focus', function() {
                markUserInteraction();
                input.classList.remove('input-error', 'input-warning', 'input-success');
            });
            
            updateValidation(showNotificationsInitially, false);
            
            return updateValidation;
        }

        function preventScroll(e) {
            const modal = document.querySelector('.datetime-picker-modal');
            if (modal && modal.contains(e.target)) {
                return;
            }
            
            e.preventDefault();
            e.stopPropagation();
            return false;
        }

        function handleOverlayClick(event) {
            if (event.target === event.currentTarget) {
                closeDateTimePicker();
            }
        }

        function toggleDateTimePicker() {
            const overlay = document.getElementById('datetime-picker-overlay');
            
            scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
            
            overlay.classList.add('active');
            document.body.classList.add('modal-open');
            document.body.style.top = `-${scrollPosition}px`;
            
            overlay.addEventListener('touchmove', preventScroll, { passive: false });
            
            initializeDateTimePicker();
            
            setTimeout(() => {
                overlay.style.display = 'flex';
            }, 10);
        }

        function closeDateTimePicker() {
            const overlay = document.getElementById('datetime-picker-overlay');
            
            overlay.classList.remove('active');
            document.body.classList.remove('modal-open');
            document.body.style.top = '';
            
            overlay.removeEventListener('touchmove', preventScroll);
            
            window.scrollTo(0, scrollPosition);
            
            setTimeout(() => {
                if (!overlay.classList.contains('active')) {
                    overlay.style.display = 'none';
                }
            }, 300);
        }

        function initializeDateTimePicker() {
            if (!selectedDate) {
                selectedDate = new Date();
            }
            currentDate = new Date(selectedDate);
            
            initializeTimeSelectors();
            renderCalendar();
        }

        function initializeTimeSelectors() {
            document.getElementById('hour-input').value = selectedHour.toString().padStart(2, '0');
            document.getElementById('minute-input').value = selectedMinute.toString().padStart(2, '0');
            document.getElementById('period-btn').textContent = selectedPeriod;
        }

        function adjustTime(type, increment) {
            if (type === 'hour') {
                selectedHour += increment;
                if (selectedHour > 12) selectedHour = 1;
                if (selectedHour < 1) selectedHour = 12;
                
                document.getElementById('hour-input').value = selectedHour.toString().padStart(2, '0');
                
                const control = document.getElementById('hour-input').parentElement;
                control.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    control.style.transform = '';
                }, 150);
                
            } else if (type === 'minute') {
                selectedMinute += increment;
                if (selectedMinute >= 60) selectedMinute = 0;
                if (selectedMinute < 0) selectedMinute = 55;
                
                document.getElementById('minute-input').value = selectedMinute.toString().padStart(2, '0');

                const control = document.getElementById('minute-input').parentElement;
                control.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    control.style.transform = '';
                }, 150);
            }
        }

        function togglePeriod() {
            selectedPeriod = selectedPeriod === 'AM' ? 'PM' : 'AM';
            const btn = document.getElementById('period-btn');
            btn.textContent = selectedPeriod;
            
            btn.style.transform = 'scale(1.1) rotateY(180deg)';
            setTimeout(() => {
                btn.style.transform = '';
            }, 300);
        }

        function renderCalendar() {
            const monthYearDisplay = document.getElementById('month-year-display');
            const dayHeaders = document.getElementById('day-headers');
            const calendarDaysSvg = document.getElementById('calendar-days-svg');
            
            const months = ['January', 'February', 'March', 'April', 'May', 'June',
                          'July', 'August', 'September', 'October', 'November', 'December'];
            
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
            monthYearDisplay.textContent = `${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
            
            
            dayHeaders.innerHTML = '';
            calendarDaysSvg.innerHTML = '';
            
            
            dayNames.forEach((day, index) => {
                const headerText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                headerText.setAttribute('x', 50 + (index * 60)); 
                headerText.setAttribute('y', 45); 
                headerText.setAttribute('class', 'svg-day-header');
                headerText.textContent = day;
                dayHeaders.appendChild(headerText);
            });
            
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            
            for (let i = 0; i < 42; i++) {
                const dayDate = new Date(startDate);
                dayDate.setDate(startDate.getDate() + i);
                
                const row = Math.floor(i / 7);
                const col = i % 7;
                const x = 20 + (col * 60); 
                const y = 80 + (row * 48); 
                
                
                const dayGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                dayGroup.setAttribute('class', 'svg-calendar-day');
                dayGroup.setAttribute('data-date', dayDate.toISOString().split('T')[0]);
                
                
                const dayBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                dayBg.setAttribute('x', x + 5);
                dayBg.setAttribute('y', y);
                dayBg.setAttribute('width', 50);
                dayBg.setAttribute('height', 40);
                dayBg.setAttribute('class', 'day-bg');
                
                
                const dayText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dayText.setAttribute('x', x + 30);
                dayText.setAttribute('y', y + 25); 
                dayText.setAttribute('class', 'day-text');
                dayText.textContent = dayDate.getDate();
                

                const dayDateComparison = new Date(dayDate);
                dayDateComparison.setHours(0, 0, 0, 0);
                const isPastDate = dayDateComparison < today;
                
                if (dayDate.getMonth() !== currentDate.getMonth()) {
                    dayGroup.classList.add('other-month');
                }
                
                if (isToday(dayDate)) {
                    dayGroup.classList.add('today');
                }
                
                if (selectedDate && isSameDay(dayDate, selectedDate)) {
                    dayGroup.classList.add('selected');
                }
                
                if (isPastDate) {
                    dayGroup.classList.add('disabled');
                } else {
                    dayGroup.style.cursor = 'pointer';
                    dayGroup.addEventListener('click', () => {
                        selectDate(dayDate);
                        
                        dayGroup.classList.add('selected');
                        dayBg.style.animation = 'dayPulse 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                    });
                    
                    
                    dayGroup.addEventListener('mouseenter', function() {
                        if (!this.classList.contains('disabled') && !this.classList.contains('selected')) {
                            dayBg.style.transform = 'scale(1.05)';
                            dayBg.style.transformOrigin = 'center';
                            dayBg.style.filter = 'url(#dayHover)';
                            dayBg.style.fill = 'url(#hoverGradient)';
                        }
                    });
                    
                    dayGroup.addEventListener('mouseleave', function() {
                        if (!this.classList.contains('selected')) {
                            dayBg.style.transform = 'scale(1)';
                            dayBg.style.filter = 'none';
                            dayBg.style.fill = 'rgba(255, 255, 255, 0.7)';
                        } else {
                            dayBg.style.transform = 'scale(1.02)';
                            dayBg.style.filter = 'url(#selectedShadow)';
                            dayBg.style.fill = 'url(#selectedGradient)';
                        }
                    });
                }
                
                dayGroup.appendChild(dayBg);
                dayGroup.appendChild(dayText);
                calendarDaysSvg.appendChild(dayGroup);
            }
        }

        function isToday(date) {
            const today = new Date();
            return isSameDay(date, today);
        }

        function isSameDay(date1, date2) {
            return date1.getDate() === date2.getDate() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getFullYear() === date2.getFullYear();
        }

        function selectDate(date) {
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const selectedDateComparison = new Date(date);
            selectedDateComparison.setHours(0, 0, 0, 0);
            
            if (selectedDateComparison < today) {
                showNotification('warning', 'Invalid Date', 'Please select a current or future date', 3000);
                return;
            }
            
            selectedDate = new Date(date);
            renderCalendar();
        }

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            renderCalendar();
        }

        function confirmDateTime() {
            if (!selectedDate) {
                showNotification('error', 'Date Required', 'Please select a date', 3000);
                return;
            }
            
            let hour24 = selectedHour;
            if (selectedPeriod === 'PM' && selectedHour !== 12) {
                hour24 += 12;
            } else if (selectedPeriod === 'AM' && selectedHour === 12) {
                hour24 = 0;
            }
            
            const finalDateTime = new Date(selectedDate);
            finalDateTime.setHours(hour24, selectedMinute, 0, 0);
            
            const displayText = formatDateTime(finalDateTime);
            document.getElementById('meeting-date-display').value = displayText;
            
            document.getElementById('meeting-date-display').dataset.isoValue = finalDateTime.toISOString();
            
            closeDateTimePicker();
        }

        function formatDateTime(date) {
            const options = {
                weekday: 'short',
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            };
            return date.toLocaleDateString('en-US', options);
        }

        function validateForm() {
            let isValid = true;
            const errors = [];
            
            userHasInteracted = true;
            
            const meetingTitle = document.getElementById('meeting-title');
            const titleResult = validateInput(meetingTitle, validationConfig.meetingTitle, true);
            if (!titleResult.isValid) {
                isValid = false;
                errors.push(titleResult.message);
            }
            
            agendaItems.forEach((item, index) => {
                const titleInput = document.getElementById(`title-${item.id}`);
                if (titleInput) {
                    const result = validateInput(titleInput, validationConfig.agendaTitle, true);
                    if (!result.isValid) {
                        isValid = false;
                        errors.push(`Agenda item ${index + 1}: ${result.message}`);
                    }
                }
            });
            
            if (!isValid) {
                showNotification('error', 'Export Validation Failed', 
                    'Please fix the following issues before exporting:\n• ' + errors.join('\n• '), 10000);
                
                const firstErrorField = document.querySelector('.input-error');
                if (firstErrorField) {
                    firstErrorField.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    setTimeout(() => {
                        firstErrorField.focus();
                    }, 500);
                }
            }
            
            return isValid;
        }

        
        const loadingMessages = [
            "Initializing components...",
            "Loading validation system...",
            "Setting up drag and drop...",
            "Preparing date picker...",
            "Finalizing interface...",
            "Almost ready..."
        ];

        let loadingMessageIndex = 0;
        let loadingMessageInterval;

        function updateLoadingMessage() {
            const messageElement = document.getElementById('loading-message');
            if (messageElement && loadingMessageIndex < loadingMessages.length) {
                messageElement.textContent = loadingMessages[loadingMessageIndex];
                loadingMessageIndex++;
            }
        }

        function hideLoadingScreen() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                if (loadingMessageInterval) {
                    clearInterval(loadingMessageInterval);
                }
                
                loadingOverlay.classList.add('fade-out');
                
                setTimeout(() => {
                    if (loadingOverlay.parentNode) {
                        loadingOverlay.parentNode.removeChild(loadingOverlay);
                    }
                }, 800);
            }
        }

        function initializeLoadingScreen() {
            loadingMessageInterval = setInterval(updateLoadingMessage, 600);
            
            setTimeout(() => {
                const elements = document.querySelectorAll('.loading-3d-element');
                elements.forEach((el, index) => {
                    setTimeout(() => {
                        el.style.opacity = '0.8';
                        el.style.transform = 'scale(1.1)';
                        setTimeout(() => {
                            el.style.transform = 'scale(1)';
                        }, 200);
                    }, index * 200);
                });
            }, 500);
            
            const minLoadingTime = 2500;
            const startTime = Date.now();
            
            function checkReadyToHide() {
                const elapsedTime = Date.now() - startTime;
                const documentReady = document.readyState === 'complete';
                
                if (documentReady && elapsedTime >= minLoadingTime) {
                    const elements = document.querySelectorAll('.loading-3d-element');
                    elements.forEach((el, index) => {
                        setTimeout(() => {
                            el.style.opacity = '0';
                            el.style.transform = 'scale(0.8) translateY(20px)';
                        }, index * 50);
                    });
                    
                    setTimeout(hideLoadingScreen, 300);
                } else {
                    setTimeout(checkReadyToHide, 100);
                }
            }
            
            checkReadyToHide();
        }
        
        const mobileDragStyles = `
            .agenda-item.dragging-mobile {
                opacity: 0.9;
                transform: scale(1.05);
                box-shadow: 0 25px 50px rgba(16, 185, 129, 0.3);
                border: 2px solid #10b981;
                background-color: rgba(255, 255, 255, 0.95);
                z-index: 1000;
            }
            
            .agenda-item.drag-over-mobile {
                position: relative;
            }
            
            .agenda-item.drag-over-mobile::before {
                content: '';
                position: absolute;
                width: calc(100% - 2rem);
                height: 4px;
                background: #10b981;
                left: 1rem;
                border-radius: 4px;
                z-index: 1001;
                box-shadow: 0 0 15px rgba(16, 185, 129, 0.6);
                animation: pulseBorder 1s infinite;
            }
            
            .agenda-item.drag-over-mobile[data-insert-before="true"]::before {
                top: -2px;
            }
            
            .agenda-item.drag-over-mobile[data-insert-before="false"]::before {
                bottom: -2px;
            }
        `;

        const styleElement = document.createElement('style');
        styleElement.innerHTML = mobileDragStyles;
        document.head.appendChild(styleElement);

        initializeLoadingScreen();
        init();

        function skipToMainContent() {
            
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                if (loadingMessageInterval) {
                    clearInterval(loadingMessageInterval);
                }
                loadingOverlay.classList.add('fade-out');
                setTimeout(() => {
                    if (loadingOverlay.parentNode) {
                        loadingOverlay.parentNode.removeChild(loadingOverlay);
                    }
                }, 300);
            }
            
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>